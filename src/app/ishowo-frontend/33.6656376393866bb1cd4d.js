(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"/NbH":function(e,t,n){"use strict";n.r(t),n.d(t,"ParamsModule",function(){return R});var i=n("ofXK"),a=n("tyNb"),r=n("vg+W"),s=n("fXoL");class l{constructor(){}}n("QVta");var o=n("PdH4"),d=n.n(o),m=n("1kSV"),c=n("2s2z"),h=n("PQpq"),u=n("6mAB"),g=n("kwXE"),p=n("3Pt+");function f(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",31),s["\u0275\u0275text"](1,"Date de d\xe9but invalide"),s["\u0275\u0275elementEnd"]())}function S(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",31),s["\u0275\u0275text"](1," Date de fin invalide"),s["\u0275\u0275elementEnd"]())}function v(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",32),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("ngValue",e),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate2"]("",e.login," (",e.user.firstname+" "+e.user.lastname,")")}}function b(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",31),s["\u0275\u0275text"](1,"Profil manquant"),s["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",31),s["\u0275\u0275text"](1,"Montant objectif manquant"),s["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275element"](1,"i",33),s["\u0275\u0275text"](2," Enregistrer"),s["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),s["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&s["\u0275\u0275element"](0,"span",34)}let C=(()=>{class e{constructor(e,t,n,i,a,r,l){this.router=e,this.activeModal=t,this.saleTargetService=n,this.profileService=i,this.libraryService=a,this.locStorService=r,this.route=l,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.created=new s.EventEmitter}ngOnInit(){this.onLoadFocus(),this.user=this.locStorService.getUser(),this.item=new l,this.getProfiles()}ngOnChanges(){this.item=new l}save(e){this.show=!0,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.saleTargetService.createSaleTarget(this.item).then(e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=new l,this.created.emit("created"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage=this.libraryService.getServiceErrorText(e),this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.visible=!0}hideForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.visible=!1,this.item=new l}getProfiles(){this.profiles=[],this.profileService.getProfiles(this.user).then(e=>{this.profiles=e},e=>{})}getSelectedDateStart(e){let t=new Date(e);this.item.start_date=t}getSelectedDateEnd(e){let t=new Date(e);t.setHours(23,59,59,999),this.item.end_date=t,this.error_date=t<this.item.start_date}successSwal(){d.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){d.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.created.emit("created"),this.activeModal.close()}onLoadFocus(){document.getElementById("date_debut").focus()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.f),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-saletarget-create"]],inputs:{subject:"subject"},outputs:{created:"created"},features:[s["\u0275\u0275NgOnChangesFeature"]],decls:52,vars:13,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],["userForm","ngForm"],[1,"text-center"],["src","assets/images/params/saletarget.jpg","width","40%","alt","",1,"rounded","mb-3"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","df"],["type","date","id","date_debut","required","","name","start_date",1,"form-control",3,"ngModel","change","ngModelChange"],["start_date","ngModel"],["class","error_msg text-danger font-italic",4,"ngIf"],["type","date","required","","name","end_date",1,"form-control",3,"ngModel","change","ngModelChange"],["end_date","ngModel"],["for","vdfd"],["name","profil","required","",1,"form-control",3,"ngModel","ngModelChange"],["profil","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number","maxlength","10","name","a_target","placeholder","Objectif","required","",1,"form-control",3,"ngModel","ngModelChange"],["a_target","ngModel"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"error_msg","text-danger","font-italic"],[3,"ngValue"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275element"](0,"div",null,0),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"h5",2),s["\u0275\u0275text"](4,"Cr\xe9ation d'Objectif de Vente"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",3),s["\u0275\u0275listener"]("click",function(){return t.close()}),s["\u0275\u0275elementStart"](6,"span",4),s["\u0275\u0275text"](7,"\xd7"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275elementStart"](9,"form",6,7),s["\u0275\u0275listener"]("ngSubmit",function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](10);return t.save(n.value)}),s["\u0275\u0275elementStart"](11,"div",8),s["\u0275\u0275element"](12,"img",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"div",11),s["\u0275\u0275elementStart"](15,"div",12),s["\u0275\u0275elementStart"](16,"label",13),s["\u0275\u0275text"](17,"D\xe9but"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"input",14,15),s["\u0275\u0275listener"]("change",function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](10);return t.getSelectedDateStart(n.value.start_date)})("ngModelChange",function(e){return t.item.start_date=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](20,f,2,0,"small",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",11),s["\u0275\u0275elementStart"](22,"div",12),s["\u0275\u0275elementStart"](23,"label",13),s["\u0275\u0275text"](24,"Fin"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"input",17,18),s["\u0275\u0275listener"]("change",function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](10);return t.getSelectedDateEnd(n.value.end_date)})("ngModelChange",function(e){return t.item.end_date=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](27,S,2,0,"small",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",10),s["\u0275\u0275elementStart"](29,"div",11),s["\u0275\u0275elementStart"](30,"div",12),s["\u0275\u0275elementStart"](31,"label",19),s["\u0275\u0275text"](32,"Profil"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"select",20,21),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.agent=e}),s["\u0275\u0275template"](35,v,2,3,"option",22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](36,b,2,0,"small",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](37,"div",11),s["\u0275\u0275elementStart"](38,"div",12),s["\u0275\u0275elementStart"](39,"label",13),s["\u0275\u0275text"](40,"Montant Objectif"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](41,"input",23,24),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.amount_target=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](43,E,2,0,"small",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"div",25),s["\u0275\u0275elementStart"](45,"button",26),s["\u0275\u0275listener"]("click",function(){return t.close()}),s["\u0275\u0275element"](46,"i",27),s["\u0275\u0275text"](47,"\xa0 Annuler"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](48,"button",28),s["\u0275\u0275template"](49,y,3,0,"span",29),s["\u0275\u0275template"](50,w,2,0,"span",29),s["\u0275\u0275template"](51,x,1,0,"span",30),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275reference"](10),n=s["\u0275\u0275reference"](34),i=s["\u0275\u0275reference"](42);s["\u0275\u0275advance"](18),s["\u0275\u0275property"]("ngModel",t.item.start_date),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",null==t.item.start_date),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.item.end_date),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",void 0===t.item.end_date||1==t.error_date),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.item.agent),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.profiles),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.item.amount_target),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("disabled",!e.valid||t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.show)}},directives:[p["\u0275angular_packages_forms_forms_y"],p.NgControlStatusGroup,p.NgForm,p.DefaultValueAccessor,p.RequiredValidator,p.NgControlStatus,p.NgModel,i.l,p.SelectControlValueAccessor,i.k,p.NumberValueAccessor,p.MaxLengthValidator,p.NgSelectOption,p["\u0275angular_packages_forms_forms_x"]],styles:[""]}),e})();function M(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275element"](1,"i",15),s["\u0275\u0275text"](2," Oui, je supprime"),s["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1," Patientez... \xa0"),s["\u0275\u0275elementEnd"]())}function _(e,t){1&e&&s["\u0275\u0275element"](0,"span",16)}let j=(()=>{class e{constructor(e,t,n,i,a){this.router=e,this.activeModal=t,this.saleTargetService=n,this.libraryService=i,this.route=a,this.show=!1,this.visible=!1,this.item=null,this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.deleted=new s.EventEmitter}ngOnInit(){}ngOnChanges(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1}delete(){this.show=!0,this.isDeleting=!0,this.isCompleted=!1,this.statusMessage="",this.saleTargetService.deleteSaleTarget(this.item.id).then(e=>{this.isDeleting=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.deleted.emit("deleted"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isDeleting=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage=this.libraryService.getServiceErrorText(e),this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1}hideForm(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.item=null}successSwal(){d.a.fire({customClass:{container:"myCustomSwal"},title:"Suppression r\xe9ussie!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){d.a.fire("Echec de la Suppression!","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.deleted.emit("deleted"),this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.f),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-saletarget-delete"]],inputs:{item:"item",subject:"subject"},outputs:{deleted:"deleted"},features:[s["\u0275\u0275NgOnChangesFeature"]],decls:21,vars:4,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],["src","assets/images/params/delete.png","width","20%","alt","",1,"rounded","mb-3"],[1,"text-center","m-4"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-danger","col-sm-6",3,"disabled","click"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"fa","fa-trash","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){1&e&&(s["\u0275\u0275element"](0,"div",null,0),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"h5",2),s["\u0275\u0275text"](4,"Suppresion d'Objectif de Vente"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",3),s["\u0275\u0275listener"]("click",function(){return t.close()}),s["\u0275\u0275elementStart"](6,"span",4),s["\u0275\u0275text"](7,"\xd7"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275elementStart"](9,"div",6),s["\u0275\u0275element"](10,"img",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"h5",8),s["\u0275\u0275text"](12," Confirmez-vous la suppression de l'objectif de vente ?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",9),s["\u0275\u0275elementStart"](14,"button",10),s["\u0275\u0275listener"]("click",function(){return t.close()}),s["\u0275\u0275element"](15,"i",11),s["\u0275\u0275text"](16,"\xa0 Non"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"button",12),s["\u0275\u0275listener"]("click",function(){return t.delete()}),s["\u0275\u0275template"](18,M,3,0,"span",13),s["\u0275\u0275template"](19,I,2,0,"span",13),s["\u0275\u0275template"](20,_,1,0,"span",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](17),s["\u0275\u0275property"]("disabled",t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.show))},directives:[i.l],styles:[""]}),e})();function k(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",31),s["\u0275\u0275text"](1,"Date de d\xe9but invalide"),s["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",31),s["\u0275\u0275text"](1," Date de fin invalide"),s["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",32),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("ngValue",e),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate2"]("",e.login," (",e.user.firstname+" "+e.user.lastname,")")}}function V(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",31),s["\u0275\u0275text"](1,"Profil manquant"),s["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"small",31),s["\u0275\u0275text"](1,"Montant objectif manquant"),s["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275element"](1,"i",33),s["\u0275\u0275text"](2," Enregistrer"),s["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),s["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&s["\u0275\u0275element"](0,"span",34)}let N=(()=>{class e{constructor(e,t,n,i,a,r,l){this.router=e,this.activeModal=t,this.saleTargetService=n,this.profileService=i,this.libraryService=a,this.locStorService=r,this.route=l,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.updated=new s.EventEmitter}ngOnInit(){this.user=this.locStorService.getUser(),this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.getProfiles()}ngOnChanges(){this.user=this.locStorService.getUser(),this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,void 0===this.profiles?this.getProfiles():this.selectProfile()}save(e){this.show=!0,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.saleTargetService.updateSaleTarget(this.item).then(e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.updated.emit("updated"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage=this.libraryService.getServiceErrorText(e),this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1}hideForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.item=null}selectProfile(){null!=this.profiles&&0!==this.profiles.length&&(null==this.item&&(this.item=new l),this.item.agent=this.profiles.filter(e=>e.id===this.item.agent.id)[0])}getProfiles(){this.profiles=[],this.profileService.getProfiles(this.user).then(e=>{this.profiles=e,this.selectProfile()},e=>{})}getSelectedDateStart(e){let t=new Date(e);this.item.start_date=t}getSelectedDateEnd(e){let t=new Date(e);t.setHours(23,59,59,999),this.item.end_date=t}successSwal(){d.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){d.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.updated.emit("updated"),this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.f),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](h.a),s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-saletarget-update"]],inputs:{item:"item",subject:"subject"},outputs:{updated:"updated"},features:[s["\u0275\u0275NgOnChangesFeature"]],decls:52,vars:13,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],["userForm","ngForm"],[1,"text-center"],["src","assets/images/params/saletarget.jpg","width","40%","alt","",1,"rounded","mb-3"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","df"],["type","date","id","date_debut","required","","name","start_date",1,"form-control",3,"ngModel","selected","ngModelChange"],["start_date","ngModel"],["class","error_msg text-danger font-italic",4,"ngIf"],["type","date","required","","name","end_date",1,"form-control",3,"ngModel","selected","ngModelChange"],["end_date","ngModel"],["for","vdfd"],["name","profil","required","",1,"form-control",3,"ngModel","ngModelChange"],["profil","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number","maxlength","10","name","a_target","placeholder","Objectif","required","",1,"form-control",3,"ngModel","ngModelChange"],["a_target","ngModel"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"error_msg","text-danger","font-italic"],[3,"ngValue"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275element"](0,"div",null,0),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"h5",2),s["\u0275\u0275text"](4,"Mis \xe0 Jour Objectif de Vente"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",3),s["\u0275\u0275listener"]("click",function(){return t.close()}),s["\u0275\u0275elementStart"](6,"span",4),s["\u0275\u0275text"](7,"\xd7"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275elementStart"](9,"form",6,7),s["\u0275\u0275listener"]("ngSubmit",function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](10);return t.save(n.value)}),s["\u0275\u0275elementStart"](11,"div",8),s["\u0275\u0275element"](12,"img",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275elementStart"](14,"div",11),s["\u0275\u0275elementStart"](15,"div",12),s["\u0275\u0275elementStart"](16,"label",13),s["\u0275\u0275text"](17,"D\xe9but"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"input",14,15),s["\u0275\u0275listener"]("selected",function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](10);return t.getSelectedDateStart(n.value.start_date)})("ngModelChange",function(e){return t.item.start_date=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](20,k,2,0,"small",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",11),s["\u0275\u0275elementStart"](22,"div",12),s["\u0275\u0275elementStart"](23,"label",13),s["\u0275\u0275text"](24,"Fin"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"input",17,18),s["\u0275\u0275listener"]("selected",function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](10);return t.getSelectedDateEnd(n.value.end_date)})("ngModelChange",function(e){return t.item.end_date=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](27,D,2,0,"small",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",10),s["\u0275\u0275elementStart"](29,"div",11),s["\u0275\u0275elementStart"](30,"div",12),s["\u0275\u0275elementStart"](31,"label",19),s["\u0275\u0275text"](32,"Profil"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"select",20,21),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.agent=e}),s["\u0275\u0275template"](35,L,2,3,"option",22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](36,V,2,0,"small",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](37,"div",11),s["\u0275\u0275elementStart"](38,"div",12),s["\u0275\u0275elementStart"](39,"label",13),s["\u0275\u0275text"](40,"Montant Objectif"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](41,"input",23,24),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.amount_target=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](43,F,2,0,"small",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"div",25),s["\u0275\u0275elementStart"](45,"button",26),s["\u0275\u0275listener"]("click",function(){return t.close()}),s["\u0275\u0275element"](46,"i",27),s["\u0275\u0275text"](47,"\xa0 Annuler"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](48,"button",28),s["\u0275\u0275template"](49,O,3,0,"span",29),s["\u0275\u0275template"](50,P,2,0,"span",29),s["\u0275\u0275template"](51,T,1,0,"span",30),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275reference"](10),n=s["\u0275\u0275reference"](34),i=s["\u0275\u0275reference"](42);s["\u0275\u0275advance"](18),s["\u0275\u0275property"]("ngModel",t.item.start_date),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",null==t.item.start_date),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.item.end_date),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",null==t.item.end_date),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.item.agent),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.profiles),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.item.amount_target),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("disabled",!e.valid||t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.show),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.show)}},directives:[p["\u0275angular_packages_forms_forms_y"],p.NgControlStatusGroup,p.NgForm,p.DefaultValueAccessor,p.RequiredValidator,p.NgControlStatus,p.NgModel,i.l,p.SelectControlValueAccessor,i.k,p.NumberValueAccessor,p.MaxLengthValidator,p.NgSelectOption,p["\u0275angular_packages_forms_forms_x"]],styles:[""]}),e})();var z=n("5KfZ"),B=n("/n7v"),q=n("Km9j");function A(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275elementStart"](1,"div",9),s["\u0275\u0275elementStart"](2,"div",10),s["\u0275\u0275elementStart"](3,"div",11),s["\u0275\u0275element"](4,"img",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"p",13),s["\u0275\u0275text"](6,"Veuillez Patientez..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275elementStart"](1,"div",9),s["\u0275\u0275elementStart"](2,"div",10),s["\u0275\u0275elementStart"](3,"div",11),s["\u0275\u0275element"](4,"img",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"p",13),s["\u0275\u0275text"](6,"Aucun r\xe9sultat trouv\xe9 !"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function H(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"td",32),s["\u0275\u0275text"](1," OUI "),s["\u0275\u0275elementEnd"]())}function $(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"td",33),s["\u0275\u0275text"](1," NON "),s["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"tr",18),s["\u0275\u0275elementStart"](1,"td",21),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td",22),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"td",23),s["\u0275\u0275text"](7),s["\u0275\u0275pipe"](8,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"td",21),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"td",24),s["\u0275\u0275text"](12),s["\u0275\u0275pipe"](13,"formatMoney"),s["\u0275\u0275elementStart"](14,"small"),s["\u0275\u0275text"](15,"FCFA"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"td",24),s["\u0275\u0275text"](17),s["\u0275\u0275pipe"](18,"formatMoney"),s["\u0275\u0275elementStart"](19,"small"),s["\u0275\u0275text"](20,"FCFA"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](21,H,2,0,"td",25),s["\u0275\u0275template"](22,$,2,0,"td",26),s["\u0275\u0275elementStart"](23,"td",27),s["\u0275\u0275elementStart"](24,"a",28),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"](2).updateModal(n)}),s["\u0275\u0275element"](25,"i",29),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"a",30),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"](2).deleteModal(n)}),s["\u0275\u0275element"](27,"i",31),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",n+1," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind2"](5,9,e.start_date,"dd/MM/yyyy")," "),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind2"](8,12,e.end_date,"dd/MM/yyyy")," "),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate2"](" ",e.agent.login," (",e.agent.user.firstname+" "+e.agent.user.lastname,") "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](13,15,e.amount_target)," "),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](18,17,e.amount_obtained)," "),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",e.is_reached),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!e.is_reached)}}function X(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",15),s["\u0275\u0275elementStart"](1,"table",16),s["\u0275\u0275elementStart"](2,"thead",17),s["\u0275\u0275elementStart"](3,"tr",18),s["\u0275\u0275elementStart"](4,"th"),s["\u0275\u0275text"](5,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"th"),s["\u0275\u0275text"](7,"Date D\xe9but"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"th"),s["\u0275\u0275text"](9,"Date Fin"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"th"),s["\u0275\u0275text"](11,"Nom"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"th"),s["\u0275\u0275text"](13,"Montant \xe0 Atteindre"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"th"),s["\u0275\u0275text"](15,"Montant Atteint"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"th"),s["\u0275\u0275text"](17,"Est Atteint"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"th"),s["\u0275\u0275text"](19,"Actions"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"tbody"),s["\u0275\u0275template"](21,K,28,19,"tr",19),s["\u0275\u0275pipe"](22,"slice"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"ngb-pagination",20),s["\u0275\u0275listener"]("pageChange",function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().page=t}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](21),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind3"](22,8,e.saleTargetList,(e.page-1)*e.pageSize,e.page*e.pageSize)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("collectionSize",e.saleTargetList.length)("page",e.page)("pageSize",e.pageSize)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}const J=[{path:"",component:(()=>{class e{constructor(e,t,n,i,a,s){this.modalService=e,this.constantService=t,this.saletargetService=n,this.locStorService=i,this.route=a,this.libraryService=s,this.saleTargetList=[],this.param=new r.a,this.pageStartIndex=0,this.limitTable=[],this.pageLimit=0,this.page=1,this.pageSize=30,this.isCreateVisible=!1,this.isLoading=!1}ngOnInit(){this.dtOptions=this.constantService.DtOptions,this.user=this.locStorService.getUser(),this.param.agent=this.user,this.getSaleTargetList(),this.limitTable=this.libraryService.getPaginatorLimitList(),this.pageLimit=this.libraryService.getPaginatorDefaultLimit()}getSaleTargetList(){this.isLoading=!0,this.saleTargetList=[],this.saletargetService.getSaleTargetList(this.user).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.saleTargetList=e},e=>{this.isLoading=!1})}searchData(){this.isLoading=!0,this.saleTargetList=[],this.saletargetService.searchSaleTarget(this.param).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.saleTargetList=e},e=>{this.isLoading=!1})}trackByFn(e,t){return t.id}getSelectedDateStart(e){this.param.startDate=e}getSelectedDateEnd(e){this.param.endDate=e}createModal(){this.modalService.open(C).componentInstance.created.subscribe(e=>{})}updateModal(e){this.modalService.open(N).componentInstance.item=e}deleteModal(e){this.modalService.open(j).componentInstance.item=e}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](m.j),s["\u0275\u0275directiveInject"](z.a),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](g.a),s["\u0275\u0275directiveInject"](a.a),s["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-saletargets"]],decls:9,vars:4,consts:[[1,"row","btn-page"],[1,"col-sm-12"],["cardClass","card-datatable",3,"hidHeader"],[1,"row","align-items-center","m-l-0"],["class","row d-flex justify-content-center mb-5","style","margin-bottom: 10em;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"btn","btn-primary","text-center","btn-sm","btn-round","has-ripple","float",3,"click"],[1,"feather","icon-plus","my-float","text-center","pb-3"],[1,"row","d-flex","justify-content-center","mb-5",2,"margin-bottom","10em"],[1,"col-md-12","text-center","p-0"],[1,"p-20","pb-3"],[1,"risk-rate"],["src","assets/images/params/spinner.gif","alt","","width","15%"],[1,"text-muted","h3","mb-5"],["src","assets/images/params/liste_vide.png","alt","","width","15%"],[1,"table-responsive"],["id","report-table",1,"table","mb-0"],[1,"thead-light"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"float-right","mt-2",3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"align-middle","p-0"],[1,"align-middle","p-0","text-success","font-weight-bold"],[1,"align-middle","p-0","text-danger","font-weight-bold"],[1,"align-middle","p-0","font-weight-bold"],["class","align-middle p-0 font-weight-bold text-success",4,"ngIf"],["class","align-middle p-0 font-weight-bold text-danger",4,"ngIf"],[1,"align-middle","p-1"],["href","javascript:",1,"btn","btn-icon","btn-outline-success",3,"click"],[1,"feather","icon-edit"],["href","javascript:",1,"btn","btn-icon","btn-outline-danger",3,"click"],[1,"feather","icon-trash-2"],[1,"align-middle","p-0","font-weight-bold","text-success"],[1,"align-middle","p-0","font-weight-bold","text-danger"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"app-card",2),s["\u0275\u0275element"](3,"div",3),s["\u0275\u0275template"](4,A,7,0,"div",4),s["\u0275\u0275template"](5,U,7,0,"div",4),s["\u0275\u0275template"](6,X,24,12,"div",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"button",6),s["\u0275\u0275listener"]("click",function(){return t.createModal()}),s["\u0275\u0275element"](8,"i",7),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hidHeader",!0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.isLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.noData&&!t.isLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.isLoading&&!t.noData))},directives:[B.a,i.l,i.k,m.m],pipes:[i.r,i.d,q.a],styles:[""]}),e})()}];let G=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.j.forChild(J)],a.j]}),e})();var Q=n("ebz3");let R=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,G,Q.a]]}),e})()},Km9j:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("fXoL");let a=(()=>{class e{transform(e,t){var n="";if(null===e||null==e)return e;for(var i=new String(e).split("").reverse().join(""),a=0;a<i.length/3;a++)n+=" "+i.substring(3*a,3*a+3);return new String(n).split("").reverse().join("")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"formatMoney",type:e,pure:!0}),e})()}}]);