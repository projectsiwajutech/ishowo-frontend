(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{EmQk:function(e,t,n){"use strict";n.r(t),n.d(t,"ProductGlobalStatsModule",function(){return x});var r=n("ofXK"),a=n("njyG"),l=n("tyNb"),d=n("vg+W"),o=n("wLMa"),i=n("fXoL"),m=n("0OH5"),s=n("TM25"),p=n("kwXE"),c=n("/n7v"),u=n("3Pt+"),h=n("bFKe");let S=(()=>{class e{transform(e,t,n){return e&&(t||n)?e.filter(e=>e.product.name.toLowerCase().indexOf(t.toLowerCase())>=0&&(void 0===n||0===n||e.measure_type.id===n)):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"prodMeasureType",type:e,pure:!0}),e})();var g=n("Km9j");function f(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",45),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().selectProd(n)}),i["\u0275\u0275elementStart"](1,"td",22),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",23),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.product.name,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.measure_type.name)}}const E=[{path:"",component:(()=>{class e{constructor(e,t,n,r){this.statsService=e,this.productService=t,this.locStorService=n,this.route=r,this.DefaultDateOne=new Date,this.DefaultDateTwo=new Date,this.report=new o.a,this.isLoadingStats=!1,this.param=new d.a,this.product_types=[],this.isLoadingStock=!1,this.productSearchName=""}ngOnInit(){this.user=this.locStorService.getUser(),this.param.agent=this.user,this.getStatsByPeriod(),this.getProductTypes()}getStatsByPeriod(){this.isLoadingStats=!0,this.statsService.getProductPeriodGlobalStats(this.param).then(e=>{this.isLoadingStats=!1,this.report=e,null===this.report&&(this.report=new o.a)},e=>{this.report=new o.a,this.isLoadingStats=!1})}getProductName(e){return null!=e&&null!=e.product?e.product.product.name:""}getProductMeasureType(e){return null!=e&&null!=e.product?"("+e.product.measure_type.name+")":""}getProductQA(e){return null!=e?e.quantity:0}getSelectedDate1(e){let t=new Date(e);this.param.startDate=t,this.getStatsByPeriod()}getSelectedDate2(e){let t=new Date(e);t.setHours(23,59,59,999),this.param.endDate=t,this.getStatsByPeriod()}getProductTypes(){this.product_types=[],this.isLoadingStock=!0,this.productService.getProductTypes(this.user).then(e=>{this.product_types=e,this.isLoadingStock=!1},e=>{this.isLoadingStock=!0})}selectProd(e){this.param.startDate=this.DefaultDateOne,this.param.endDate=this.DefaultDateTwo,this.param.product=e,this.report=new o.a,this.getStatsByPeriod()}canGetStats(){return 1!=(null==this.param.product)}getProductSelectedName(){return null==this.param||null==this.param.product?"":this.param.product.product.name}getProductSelectedMeasureType(){return null==this.param||null==this.param.product?"":this.param.product.measure_type.name}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](p.a),i["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-product-global-stats"]],decls:110,vars:40,consts:[[3,"options","customHeader"],[1,"app-card-header"],["role","form"],["userForm","ngForm"],[1,"row"],[1,"form-group","mb-0","input-group","col-sm-4"],[1,"input-group-append"],[1,"btn","btn-primary","font-weight-bold","btn-sm"],["type","date","name","dateStart","id","dateStart",1,"pl-2","form-control",3,"ngModel","change","ngModelChange"],["dateStart","ngModel"],["type","date","name","dateEnd","id","dateEnd",1,"pl-2","form-control",3,"ngModel","change","ngModelChange"],["dateEnd","ngModel"],["type","submit",1,"col-sm-4"],[1,"btn","btn-primary","float-right",3,"click"],[1,"fa","fa-search"],[1,"col-sm-4"],["action",""],[1,"font-weight-bold","mr-2","text-c-blue"],["type","text","name","productSearchName","placeholder","Recherche Produit",1,"form-control","mr-3",3,"ngModel","ngModelChange"],["productName",""],[1,"table-responsive"],[1,"table"],[1,"text-left","p-0","pt-1","pl-1"],[1,"text-center","p-0","pt-1"],[3,"click",4,"ngFor","ngForOf"],[1,"col-sm-8"],["cardClass","user-card-full","blockClass","p-0",3,"hidHeader"],[1,"row","m-l-0","m-r-0"],[1,"col-sm-4","bg-c-blue","user-profile-side"],[1,"p-20","text-center","text-white"],[1,"m-b-25"],["src","assets/images/params/apple.jpg","width","100%","alt","User-Profile-Image",1,"img-radius"],[1,"f-w-600","text-white"],[1,"p-10"],[1,"d-flex","justify-content-center","m-b-20","p-b-5","b-b-default","f-w-600"],[1,"btn","btn-sm","btn-light","font-weight-bold"],[1,"col-sm-6"],["cardClass","bg-c-green text-white p-0 widget-visitor-card","blockClass","text-center p-2",3,"hidHeader"],[1,"text-white"],[1,"feather","icon-file-text"],["cardClass","bg-warning text-white p-0 widget-visitor-card","blockClass","text-center p-2",3,"hidHeader"],["cardClass","bg-info text-white p-0 widget-visitor-card","blockClass","text-center p-2",3,"hidHeader"],["cardClass","bg-c-yellow bg-gold text-white p-0 widget-visitor-card","blockClass","text-center p-2",3,"hidHeader"],[1,"col-sm-12"],["cardClass","bg-c-blue text-white p-0 widget-visitor-card","blockClass","text-center p-2",3,"hidHeader"],[3,"click"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-card",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"form",2,3),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275elementStart"](6,"div",6),i["\u0275\u0275elementStart"](7,"button",7),i["\u0275\u0275text"](8,"DE"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"input",8,9),i["\u0275\u0275listener"]("change",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](3);return t.getSelectedDate1(n.value.dateStart)})("ngModelChange",function(e){return t.DefaultDateOne=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",5),i["\u0275\u0275elementStart"](12,"div",6),i["\u0275\u0275elementStart"](13,"button",7),i["\u0275\u0275text"](14,"\xc0"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",10,11),i["\u0275\u0275listener"]("change",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](3);return t.getSelectedDate2(n.value.dateEnd)})("ngModelChange",function(e){return t.DefaultDateTwo=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",12),i["\u0275\u0275elementStart"](18,"button",13),i["\u0275\u0275listener"]("click",function(){return t.getStatsByPeriod()}),i["\u0275\u0275element"](19,"span",14),i["\u0275\u0275text"](20," Rechercher"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",4),i["\u0275\u0275elementStart"](22,"div",15),i["\u0275\u0275elementStart"](23,"app-card",0),i["\u0275\u0275elementStart"](24,"div",1),i["\u0275\u0275elementStart"](25,"form",16),i["\u0275\u0275elementStart"](26,"span",17),i["\u0275\u0275text"](27,"RECHERCHER UN PRODUIT "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"span"),i["\u0275\u0275elementStart"](29,"input",18,19),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.productSearchName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",20),i["\u0275\u0275elementStart"](32,"perfect-scrollbar"),i["\u0275\u0275elementStart"](33,"table",21),i["\u0275\u0275elementStart"](34,"thead"),i["\u0275\u0275elementStart"](35,"tr"),i["\u0275\u0275elementStart"](36,"th",22),i["\u0275\u0275text"](37,"Nom"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"th",23),i["\u0275\u0275text"](39,"T.Mesure"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"tbody"),i["\u0275\u0275template"](41,f,5,2,"tr",24),i["\u0275\u0275pipe"](42,"prodMeasureType"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"div",25),i["\u0275\u0275elementStart"](44,"app-card",26),i["\u0275\u0275elementStart"](45,"div",27),i["\u0275\u0275elementStart"](46,"div",28),i["\u0275\u0275elementStart"](47,"div",29),i["\u0275\u0275elementStart"](48,"div",30),i["\u0275\u0275element"](49,"img",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](50,"h6",32),i["\u0275\u0275text"](51),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](52,"p"),i["\u0275\u0275text"](53),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](54,"div",25),i["\u0275\u0275elementStart"](55,"div",33),i["\u0275\u0275elementStart"](56,"h6",34),i["\u0275\u0275elementStart"](57,"button",35),i["\u0275\u0275text"](58),i["\u0275\u0275pipe"](59,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](60,"button",35),i["\u0275\u0275text"](61),i["\u0275\u0275pipe"](62,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"div",4),i["\u0275\u0275elementStart"](64,"div",36),i["\u0275\u0275elementStart"](65,"app-card",37),i["\u0275\u0275elementStart"](66,"h4",38),i["\u0275\u0275text"](67),i["\u0275\u0275pipe"](68,"formatMoney"),i["\u0275\u0275elementStart"](69,"small"),i["\u0275\u0275text"](70,"FCFA"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"h6",38),i["\u0275\u0275text"](72,"Total des Commandes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](73,"i",39),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](74,"div",36),i["\u0275\u0275elementStart"](75,"app-card",40),i["\u0275\u0275elementStart"](76,"h4",38),i["\u0275\u0275text"](77),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](78,"h6",38),i["\u0275\u0275text"](79,"Total command\xe9s"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](80,"i",39),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](81,"div",4),i["\u0275\u0275elementStart"](82,"div",36),i["\u0275\u0275elementStart"](83,"app-card",41),i["\u0275\u0275elementStart"](84,"h4",38),i["\u0275\u0275text"](85),i["\u0275\u0275pipe"](86,"formatMoney"),i["\u0275\u0275elementStart"](87,"small"),i["\u0275\u0275text"](88,"FCFA"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](89,"h6",38),i["\u0275\u0275text"](90,"Total des ventes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](91,"i",39),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](92,"div",36),i["\u0275\u0275elementStart"](93,"app-card",42),i["\u0275\u0275elementStart"](94,"h4",38),i["\u0275\u0275text"](95),i["\u0275\u0275pipe"](96,"formatMoney"),i["\u0275\u0275elementStart"](97,"small"),i["\u0275\u0275text"](98,"FCFA"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](99,"h6",38),i["\u0275\u0275text"](100,"Total des B\xe9n\xe9fices"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](101,"i",39),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](102,"div",4),i["\u0275\u0275elementStart"](103,"div",43),i["\u0275\u0275elementStart"](104,"app-card",44),i["\u0275\u0275elementStart"](105,"h4",38),i["\u0275\u0275text"](106),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](107,"h6",38),i["\u0275\u0275text"](108,"Total Vendus"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](109,"i",39),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275property"]("options",!1)("customHeader",!0),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngModel",t.DefaultDateOne),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",t.DefaultDateTwo),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("options",!1)("customHeader",!0),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",t.productSearchName),i["\u0275\u0275advance"](3),i["\u0275\u0275styleProp"]("max-height","260px"),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind2"](42,25,t.product_types,t.productSearchName)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("hidHeader",!0),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate"](t.getProductSelectedName()),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("(",t.getProductSelectedMeasureType()||"Veuillez s\xe9lectionner un Produit",")"),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("DU ",i["\u0275\u0275pipeBind2"](59,28,t.param.startDate||t.DefaultDateOne,"dd/MM/yyyy"),""),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("AU ",i["\u0275\u0275pipeBind2"](62,31,t.param.endDate||t.DefaultDateTwo,"dd/MM/yyyy"),""),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("hidHeader",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](68,34,t.report.totalOrder||"0")," "),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("hidHeader",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.report.qtyOrder||"0"),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("hidHeader",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](86,36,t.report.totalSell||"0")),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("hidHeader",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](96,38,t.report.totalProfit||"0")),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("hidHeader",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.report.qtySold||"0"))},directives:[c.a,u["\u0275angular_packages_forms_forms_y"],u.NgControlStatusGroup,u.NgForm,u.DefaultValueAccessor,u.NgControlStatus,u.NgModel,h.b,r.k],pipes:[S,r.d,g.a],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.j.forChild(E)],l.j]}),e})();var y=n("ebz3");let x=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.b,v,y.a,a.a]]}),e})()},Km9j:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("fXoL");let a=(()=>{class e{transform(e,t){var n="";if(null===e||null==e)return e;for(var r=new String(e).split("").reverse().join(""),a=0;a<r.length/3;a++)n+=" "+r.substring(3*a,3*a+3);return new String(n).split("").reverse().join("")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"formatMoney",type:e,pure:!0}),e})()}}]);