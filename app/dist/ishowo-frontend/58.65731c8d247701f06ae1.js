(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{RV3a:function(e,t,n){"use strict";n.r(t),n.d(t,"ProfilesModule",function(){return Se});var s=n("ofXK"),i=n("tyNb"),r=n("fXoL"),a=n("Dy6s"),l=n("PdH4"),o=n.n(l),m=(n("QVta"),n("1kSV")),d=n("PQpq"),c=n("kwXE"),u=n("6mAB"),p=n("3Pt+");function h(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",32),r["\u0275\u0275text"](1," Login manquant"),r["\u0275\u0275elementEnd"]())}function g(e,t){1&e&&r["\u0275\u0275element"](0,"span",33)}function f(e,t){1&e&&r["\u0275\u0275element"](0,"span",34)}function v(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",32),r["\u0275\u0275text"](1,"Mot de passe manquant"),r["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",10),r["\u0275\u0275elementStart"](1,"div",21),r["\u0275\u0275elementStart"](2,"div",12),r["\u0275\u0275elementStart"](3,"label",22),r["\u0275\u0275text"](4,"Login Actuel"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"input",23,24),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).item.login=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,h,2,0,"small",25),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",21),r["\u0275\u0275elementStart"](9,"label",22),r["\u0275\u0275text"](10,"Mot de Passe Actuel"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",26),r["\u0275\u0275elementStart"](12,"input",27,28),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).code=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"button",29),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).showHidePass()}),r["\u0275\u0275template"](15,g,1,0,"span",30),r["\u0275\u0275template"](16,f,1,0,"span",31),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](17,v,2,0,"small",25),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](6),t=r["\u0275\u0275reference"](13),n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",n.item.login),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.dirty&&e.hasError("required")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",n.code),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!n.showPass),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.showPass),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.dirty&&t.hasError("required"))}}function E(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275element"](1,"i",35),r["\u0275\u0275text"](2," Authentification"),r["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),r["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&r["\u0275\u0275element"](0,"span",36)}function b(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"form",7,8),r["\u0275\u0275listener"]("ngSubmit",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"]().checkPassword(t.value.pass)}),r["\u0275\u0275element"](2,"div",9),r["\u0275\u0275elementStart"](3,"div",10),r["\u0275\u0275elementStart"](4,"div",11),r["\u0275\u0275elementStart"](5,"div",12),r["\u0275\u0275elementStart"](6,"label",13),r["\u0275\u0275text"](7,"Veuillez d'abord vous authentifier"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,S,18,6,"div",14),r["\u0275\u0275elementStart"](9,"div",15),r["\u0275\u0275elementStart"](10,"button",16),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().close()}),r["\u0275\u0275element"](11,"i",17),r["\u0275\u0275text"](12,"\xa0 Annuler"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"button",18),r["\u0275\u0275template"](14,E,3,0,"span",19),r["\u0275\u0275template"](15,y,2,0,"span",19),r["\u0275\u0275template"](16,w,1,0,"span",20),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("ngIf",!t.modify),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("disabled",!e.valid||t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.show)}}function x(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",32),r["\u0275\u0275text"](1," Login invalide!"),r["\u0275\u0275elementEnd"]())}function C(e,t){1&e&&r["\u0275\u0275element"](0,"span",33)}function M(e,t){1&e&&r["\u0275\u0275element"](0,"span",34)}function I(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",32),r["\u0275\u0275text"](1," Mot de passe invalide"),r["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&r["\u0275\u0275element"](0,"span",33)}function V(e,t){1&e&&r["\u0275\u0275element"](0,"span",34)}function P(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",32),r["\u0275\u0275text"](1,"Les mots de passe ne sont pas identiques!"),r["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275element"](1,"i",35),r["\u0275\u0275text"](2," Enregistrer"),r["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),r["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&r["\u0275\u0275element"](0,"span",36)}function q(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"form",7,8),r["\u0275\u0275listener"]("ngSubmit",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"]().save(t.value)}),r["\u0275\u0275element"](2,"div",9),r["\u0275\u0275elementStart"](3,"div",37),r["\u0275\u0275elementStart"](4,"div",38),r["\u0275\u0275elementStart"](5,"div",12),r["\u0275\u0275elementStart"](6,"label",22),r["\u0275\u0275text"](7,"Nouveau Login"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"input",39,40),r["\u0275\u0275listener"]("ngModelChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().item.login=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](10,x,2,0,"small",25),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",37),r["\u0275\u0275elementStart"](12,"div",38),r["\u0275\u0275elementStart"](13,"label",22),r["\u0275\u0275text"](14,"Nouveau Mot de Passe"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"div",26),r["\u0275\u0275element"](16,"input",41,42),r["\u0275\u0275elementStart"](18,"button",29),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().showHidePass()}),r["\u0275\u0275template"](19,C,1,0,"span",30),r["\u0275\u0275template"](20,M,1,0,"span",31),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](21,I,2,0,"small",25),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"div",43),r["\u0275\u0275elementStart"](23,"div",38),r["\u0275\u0275elementStart"](24,"label",44),r["\u0275\u0275text"](25,"Confirmez Votre Nouveau Mot de passe"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](26,"div",26),r["\u0275\u0275elementStart"](27,"input",45,46),r["\u0275\u0275listener"]("keyup",function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"]().CheckSamePassword(t.value.pass1,t.value.pass2)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"button",29),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().showHidePassword()}),r["\u0275\u0275template"](30,k,1,0,"span",30),r["\u0275\u0275template"](31,V,1,0,"span",31),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](32,P,2,0,"small",25),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](33,"div",47),r["\u0275\u0275elementStart"](34,"button",16),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().close()}),r["\u0275\u0275element"](35,"i",17),r["\u0275\u0275text"](36,"\xa0 Annuler"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](37,"button",18),r["\u0275\u0275template"](38,j,3,0,"span",19),r["\u0275\u0275template"](39,L,2,0,"span",19),r["\u0275\u0275template"](40,F,1,0,"span",20),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](9),n=r["\u0275\u0275reference"](17),s=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("ngModel",s.item.login),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.dirty&&t.hasError("required")),r["\u0275\u0275advance"](9),r["\u0275\u0275property"]("ngIf",!s.showPass),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",s.showPass),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),r["\u0275\u0275advance"](9),r["\u0275\u0275property"]("ngIf",!s.showPassword),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",s.showPassword),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!s.samePassWord),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("disabled",!e.valid||s.show||!s.samePassWord),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!s.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",s.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",s.show)}}let _=(()=>{class e{constructor(e,t,n,s,i){this.router=e,this.activeModal=t,this.profileService=n,this.locStorService=s,this.LibraryService=i,this.show=!1,this.modify=!1,this.visible=!1,this.samePassWord=!0,this.defaultPass="",this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.agencies=[],this.users=[],this.groups=[],this.updated=new r.EventEmitter}ngOnInit(){this.onLoadFocus(),this.user=this.locStorService.getUser(),this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1}save(e){this.show=!0,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.item.login=e.new_login,this.item.code=e.pass1,this.profileService.updateProfile(this.item).then(e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.updated.emit("updated"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1}hideForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.item=null}checkPassword(e){this.show=!0,this.profileService.cryptPassword(e).then(e=>{this.show=!1,e!==this.item.code?this.LibraryService.onError("Mot de passe incorrect!",1300,"top-end"):this.modify=!0})}selectUser(){null!=this.users&&0!==this.users.length&&(null==this.item&&(this.item=new a.a),this.item.user=this.users.filter(e=>e.id===this.item.user.id)[0])}selectGroup(){null!=this.groups&&0!==this.groups.length&&(null==this.item&&(this.item=new a.a),this.item.group=this.groups.filter(e=>e.id===this.item.group.id)[0])}selectAgency(){null!=this.agencies&&0!==this.agencies.length&&(null==this.item&&(this.item=new a.a),this.item.agency=this.agencies.filter(e=>e.id===this.item.agency.id)[0])}successSwal(){o.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){o.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}CheckSamePassword(e,t){this.samePassWord=e===t}close(){this.updated.emit("updated"),this.activeModal.close()}onLoadFocus(){document.getElementById("password").focus()}showHidePass(){var e=document.getElementById("password");"password"===e.type?(e.type="text",this.showPass=!0):(e.type="password",this.showPass=!1)}showHidePassword(){var e=document.getElementById("pass2");"password"===e.type?(e.type="text",this.showPassword=!0):(e.type="password",this.showPassword=!1)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](m.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-changepassword"]],inputs:{item:"item",subject:"subject"},outputs:{updated:"updated"},decls:11,vars:2,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["autocomplete","off",3,"ngSubmit",4,"ngIf"],["autocomplete","off",3,"ngSubmit"],["userForm","ngForm"],[1,"text-center"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],["for","vdfd"],["class","row",4,"ngIf"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"col-sm-6"],["for","df"],["type","text","maxlength","50","id","login_profil","name","login","placeholder","Login","required","","disabled","",1,"form-control","pl-2",3,"ngModel","ngModelChange"],["login","ngModel"],["class","error_msg text-danger font-italic",4,"ngIf"],[1,"input-group"],["type","password","name","pass","id","password","placeholder","Mot de passe","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["pass","ngModel"],["type","button",1,"btn","btn-light",3,"click"],["class","fas fa-eye-slash",4,"ngIf"],["class","fas fa-eye",4,"ngIf"],[1,"error_msg","text-danger","font-italic"],[1,"fas","fa-eye-slash"],[1,"fas","fa-eye"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"],[1,"row","d-flex","justify-content-center"],[1,"col-sm-10"],["type","text","maxlength","50","id","login_profil","name","new_login","placeholder","Login","required","",1,"form-control","pl-2",3,"ngModel","ngModelChange"],["new_login","ngModel"],["type","password","maxlength","50","id","password","ngModel","","name","pass1","placeholder","Nouveau Mot de passe","required","",1,"form-control"],["pass1","ngModel"],[1,"row","pt-3","pb-2","d-flex","justify-content-center"],["for","pass2"],["type","password","maxlength","50","id","pass2","ngModel","","name","pass2","placeholder","Confirmez le nouveau mot de passe","required","",1,"form-control",3,"keyup"],["pass2","ngModel"],[1,"app-modal-footer","row","pt-3"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"div",null,0),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"h5",2),r["\u0275\u0275text"](4,"Mis \xe0 jour des param\xe8tres de connection"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",3),r["\u0275\u0275listener"]("click",function(){return t.close()}),r["\u0275\u0275elementStart"](6,"span",4),r["\u0275\u0275text"](7,"\xd7"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",5),r["\u0275\u0275template"](9,b,17,5,"form",6),r["\u0275\u0275template"](10,q,41,12,"form",6),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](9),r["\u0275\u0275property"]("ngIf",!t.modify),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.modify))},directives:[s.l,p["\u0275angular_packages_forms_forms_y"],p.NgControlStatusGroup,p.NgForm,p.DefaultValueAccessor,p.MaxLengthValidator,p.RequiredValidator,p.NgControlStatus,p.NgModel],styles:[""]}),e})();var A=n("h8t+"),U=n("biaL");function z(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",33),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngValue",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.lastname+" "+e.firstname," ")}}function N(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",34),r["\u0275\u0275text"](1," Utilisateur manquant"),r["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",34),r["\u0275\u0275text"](1," Login manquant"),r["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",34),r["\u0275\u0275text"](1,"Mot de passe manquant"),r["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",33),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngValue",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.name)}}function D(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",34),r["\u0275\u0275text"](1," Agence manquante"),r["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",33),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngValue",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.name)}}function H(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",34),r["\u0275\u0275text"](1," Groupe manquant"),r["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275element"](1,"i",35),r["\u0275\u0275text"](2," Enregistrer"),r["\u0275\u0275elementEnd"]())}function W(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),r["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&r["\u0275\u0275element"](0,"span",36)}let X=(()=>{class e{constructor(e,t,n,s,i,a,l){this.router=e,this.activeModal=t,this.profilService=n,this.locStorService=s,this.agencyService=i,this.userService=a,this.route=l,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.created=new r.EventEmitter}ngOnInit(){this.onLoadFocus(),this.user=this.locStorService.getUser(),this.item=new a.a,this.getAgencies(),this.getUsers(),this.getGroups()}ngOnChanges(){this.item=new a.a}save(e){this.show=!0,this.item.agent=this.user,this.item.login=e.login,this.item.code=e.code,this.item.agent=this.user,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.profilService.createProfile(this.item).then(e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=new a.a,this.created.emit("created"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.visible=!0}hideForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.visible=!1,this.item=new a.a}getAgencies(){this.agencies=[],this.agencyService.getAgencies(this.user).then(e=>{this.agencies=e},e=>{})}getUsers(){this.users=[],this.userService.getAgents(this.user).then(e=>{this.users=e},e=>{})}getGroups(){this.groups=[],this.userService.getGroupsList().then(e=>{this.groups=e},e=>{})}successSwal(){o.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){o.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.created.emit("created"),this.activeModal.close()}onLoadFocus(){document.getElementById("user_name").focus()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](m.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](A.a),r["\u0275\u0275directiveInject"](U.a),r["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-profile-create"]],inputs:{subject:"subject"},outputs:{created:"created"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:62,vars:17,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],["userForm","ngForm"],[1,"text-center"],["src","assets/images/params/profil.jpg","width","35%","alt","",1,"rounded","mb-3"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],["for","vdfd"],["id","user_name","name","user","required","",1,"form-control",3,"ngModel","ngModelChange"],["user","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","error_msg text-danger font-italic",4,"ngIf"],[1,"col-sm-6"],["for","df"],["type","text","maxlength","30","name","login","placeholder","Login","required","",1,"form-control",3,"ngModel","ngModelChange"],["login","ngModel"],["type","password","maxlength","50","name","code","placeholder","Mot de passe","required","",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],["name","user","required","",1,"form-control",3,"ngModel","ngModelChange"],["agency","ngModel"],["group","ngModel"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[3,"ngValue"],[1,"error_msg","text-danger","font-italic"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275element"](0,"div",null,0),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"h5",2),r["\u0275\u0275text"](4,"Nouveau Profil"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",3),r["\u0275\u0275listener"]("click",function(){return t.close()}),r["\u0275\u0275elementStart"](6,"span",4),r["\u0275\u0275text"](7,"\xd7"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",5),r["\u0275\u0275elementStart"](9,"form",6,7),r["\u0275\u0275listener"]("ngSubmit",function(){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275reference"](10);return t.save(n.value)}),r["\u0275\u0275elementStart"](11,"div",8),r["\u0275\u0275element"](12,"img",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",10),r["\u0275\u0275elementStart"](14,"div",11),r["\u0275\u0275elementStart"](15,"div",12),r["\u0275\u0275elementStart"](16,"label",13),r["\u0275\u0275text"](17,"Utilisateur"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"select",14,15),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.user=e}),r["\u0275\u0275template"](20,z,2,2,"option",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](21,N,2,0,"small",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"div",10),r["\u0275\u0275elementStart"](23,"div",18),r["\u0275\u0275elementStart"](24,"div",12),r["\u0275\u0275elementStart"](25,"label",19),r["\u0275\u0275text"](26,"Login"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](27,"input",20,21),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.login=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](29,O,2,0,"small",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](30,"div",18),r["\u0275\u0275elementStart"](31,"div",12),r["\u0275\u0275elementStart"](32,"label",19),r["\u0275\u0275text"](33,"Password"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](34,"input",22,23),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.code=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](36,B,2,0,"small",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](37,"div",10),r["\u0275\u0275elementStart"](38,"div",18),r["\u0275\u0275elementStart"](39,"div",12),r["\u0275\u0275elementStart"](40,"label",13),r["\u0275\u0275text"](41,"Agence"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](42,"select",24,25),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.agency=e}),r["\u0275\u0275template"](44,G,2,2,"option",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](45,D,2,0,"small",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](46,"div",18),r["\u0275\u0275elementStart"](47,"div",12),r["\u0275\u0275elementStart"](48,"label",13),r["\u0275\u0275text"](49,"Groupe"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](50,"select",24,26),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.group=e}),r["\u0275\u0275template"](52,$,2,2,"option",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](53,H,2,0,"small",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](54,"div",27),r["\u0275\u0275elementStart"](55,"button",28),r["\u0275\u0275listener"]("click",function(){return t.close()}),r["\u0275\u0275element"](56,"i",29),r["\u0275\u0275text"](57,"\xa0 Annuler"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](58,"button",30),r["\u0275\u0275template"](59,R,3,0,"span",31),r["\u0275\u0275template"](60,W,2,0,"span",31),r["\u0275\u0275template"](61,T,1,0,"span",32),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](10),n=r["\u0275\u0275reference"](19),s=r["\u0275\u0275reference"](28),i=r["\u0275\u0275reference"](35),a=r["\u0275\u0275reference"](43),l=r["\u0275\u0275reference"](51);r["\u0275\u0275advance"](18),r["\u0275\u0275property"]("ngModel",t.item.user),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.users),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.item.login),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",s.dirty&&s.hasError("required")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",t.item.code),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.item.agency),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.agencies),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",a.dirty&&a.hasError("required")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",t.item.group),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.groups),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",l.dirty&&l.hasError("required")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("disabled",!e.valid||t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.show)}},directives:[p["\u0275angular_packages_forms_forms_y"],p.NgControlStatusGroup,p.NgForm,p.SelectControlValueAccessor,p.RequiredValidator,p.NgControlStatus,p.NgModel,s.k,s.l,p.DefaultValueAccessor,p.MaxLengthValidator,p.NgSelectOption,p["\u0275angular_packages_forms_forms_x"]],styles:[""]}),e})();function J(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275element"](1,"i",15),r["\u0275\u0275text"](2," Oui, je supprime"),r["\u0275\u0275elementEnd"]())}function K(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1," Patientez... \xa0"),r["\u0275\u0275elementEnd"]())}function Q(e,t){1&e&&r["\u0275\u0275element"](0,"span",16)}let Z=(()=>{class e{constructor(e,t,n,s){this.router=e,this.activeModal=t,this.profileService=n,this.route=s,this.show=!1,this.visible=!1,this.item=null,this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.deleted=new r.EventEmitter}ngOnInit(){}ngOnChanges(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1}delete(){this.show=!0,this.isDeleting=!0,this.isCompleted=!1,this.statusMessage="",this.profileService.deleteProfile(this.item.id).then(e=>{this.isDeleting=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.deleted.emit("deleted"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isDeleting=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1}hideForm(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.item=null}successSwal(){o.a.fire({customClass:{container:"myCustomSwal"},title:"Suppression r\xe9ussie!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){o.a.fire("Echec de la Suppression!","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.deleted.emit("deleted"),this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](m.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-profile-delete"]],inputs:{item:"item",subject:"subject"},outputs:{deleted:"deleted"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:21,vars:4,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],["src","assets/images/params/delete.png","width","20%","alt","",1,"rounded","mb-3"],[1,"text-center","m-4"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-danger","col-sm-6",3,"disabled","click"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"fa","fa-trash","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"div",null,0),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"h5",2),r["\u0275\u0275text"](4,"Suppresion de Profil"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",3),r["\u0275\u0275listener"]("click",function(){return t.close()}),r["\u0275\u0275elementStart"](6,"span",4),r["\u0275\u0275text"](7,"\xd7"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",5),r["\u0275\u0275elementStart"](9,"div",6),r["\u0275\u0275element"](10,"img",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"h5",8),r["\u0275\u0275text"](12," Confirmez-vous la suppression de ce Profil ?"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",9),r["\u0275\u0275elementStart"](14,"button",10),r["\u0275\u0275listener"]("click",function(){return t.close()}),r["\u0275\u0275element"](15,"i",11),r["\u0275\u0275text"](16,"\xa0 Non"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"button",12),r["\u0275\u0275listener"]("click",function(){return t.delete()}),r["\u0275\u0275template"](18,J,3,0,"span",13),r["\u0275\u0275template"](19,K,2,0,"span",13),r["\u0275\u0275template"](20,Q,1,0,"span",14),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](17),r["\u0275\u0275property"]("disabled",t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.show))},directives:[s.l],styles:[""]}),e})();function Y(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",29),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngValue",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.lastname+" "+e.firstname," ")}}function ee(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",30),r["\u0275\u0275text"](1," Utilisateur manquant"),r["\u0275\u0275elementEnd"]())}function te(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",29),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngValue",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.name)}}function ne(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",30),r["\u0275\u0275text"](1," Agence manquante"),r["\u0275\u0275elementEnd"]())}function se(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",29),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("ngValue",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.name)}}function ie(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"small",30),r["\u0275\u0275text"](1," Groupe manquant"),r["\u0275\u0275elementEnd"]())}function re(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275element"](1,"i",31),r["\u0275\u0275text"](2," Enregistrer"),r["\u0275\u0275elementEnd"]())}function ae(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),r["\u0275\u0275elementEnd"]())}function le(e,t){1&e&&r["\u0275\u0275element"](0,"span",32)}let oe=(()=>{class e{constructor(e,t,n,s,i,a,l){this.router=e,this.activeModal=t,this.profileService=n,this.locStorService=s,this.agencyService=i,this.userService=a,this.route=l,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.agencies=[],this.users=[],this.groups=[],this.updated=new r.EventEmitter}ngOnInit(){this.onLoadFocus(),this.user=this.locStorService.getUser(),this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.getUsers(),this.getAgencies(),this.getGroups()}ngOnChanges(){this.user=this.locStorService.getUser(),this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,0!==this.users.length?this.selectUser():this.getUsers(),0!==this.groups.length?this.selectGroup():this.getGroups(),0!==this.agencies.length?this.selectAgency():this.getAgencies()}save(e){this.show=!0,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.profileService.updateProfile(this.item).then(e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.updated.emit("updated"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1}hideForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.item=null}selectUser(){null!=this.users&&0!==this.users.length&&(null==this.item&&(this.item=new a.a),this.item.user=this.users.filter(e=>e.id===this.item.user.id)[0])}selectGroup(){null!=this.groups&&0!==this.groups.length&&(null==this.item&&(this.item=new a.a),this.item.group=this.groups.filter(e=>e.id===this.item.group.id)[0])}selectAgency(){null!=this.agencies&&0!==this.agencies.length&&(null==this.item&&(this.item=new a.a),this.item.agency=this.agencies.filter(e=>e.id===this.item.agency.id)[0])}getAgencies(){this.agencies=[],this.agencyService.getAgencies(this.user).then(e=>{this.agencies=e,this.selectAgency()},e=>{})}getUsers(){this.users=[],this.userService.getAgents(this.user).then(e=>{this.users=e,this.selectUser()},e=>{})}getGroups(){this.groups=[],this.userService.getGroupsList().then(e=>{this.groups=e,this.selectGroup()},e=>{})}successSwal(){o.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){o.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.updated.emit("updated"),this.activeModal.close()}onLoadFocus(){document.getElementById("user_name").focus()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](m.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](A.a),r["\u0275\u0275directiveInject"](U.a),r["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-profile-update"]],inputs:{item:"item",subject:"subject"},outputs:{updated:"updated"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:47,vars:13,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["userForm","ngForm"],[1,"text-center"],["src","assets/images/params/profil.jpg","width","35%","alt","",1,"rounded","mb-3"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],["for","vdfd"],["id","user_name","name","user","required","",1,"form-control",3,"ngModel","ngModelChange"],["user","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","error_msg text-danger font-italic",4,"ngIf"],[1,"col-sm-6"],["name","agency","required","",1,"form-control",3,"ngModel","ngModelChange"],["agency","ngModel"],["name","group","required","",1,"form-control",3,"ngModel","ngModelChange"],["group","ngModel"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[3,"ngValue"],[1,"error_msg","text-danger","font-italic"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275element"](0,"div",null,0),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"h5",2),r["\u0275\u0275text"](4,"Mis \xe0 jour de Profil"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",3),r["\u0275\u0275listener"]("click",function(){return t.close()}),r["\u0275\u0275elementStart"](6,"span",4),r["\u0275\u0275text"](7,"\xd7"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",5),r["\u0275\u0275elementStart"](9,"form",6,7),r["\u0275\u0275listener"]("ngSubmit",function(){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275reference"](10);return t.save(n.value)}),r["\u0275\u0275elementStart"](11,"div",8),r["\u0275\u0275element"](12,"img",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",10),r["\u0275\u0275elementStart"](14,"div",11),r["\u0275\u0275elementStart"](15,"div",12),r["\u0275\u0275elementStart"](16,"label",13),r["\u0275\u0275text"](17,"Utilisateur"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"select",14,15),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.user=e}),r["\u0275\u0275template"](20,Y,2,2,"option",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](21,ee,2,0,"small",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"div",10),r["\u0275\u0275elementStart"](23,"div",18),r["\u0275\u0275elementStart"](24,"div",12),r["\u0275\u0275elementStart"](25,"label",13),r["\u0275\u0275text"](26,"Agence"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](27,"select",19,20),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.agency=e}),r["\u0275\u0275template"](29,te,2,2,"option",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](30,ne,2,0,"small",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](31,"div",18),r["\u0275\u0275elementStart"](32,"div",12),r["\u0275\u0275elementStart"](33,"label",13),r["\u0275\u0275text"](34,"Groupe"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](35,"select",21,22),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.group=e}),r["\u0275\u0275template"](37,se,2,2,"option",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](38,ie,2,0,"small",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](39,"div",23),r["\u0275\u0275elementStart"](40,"button",24),r["\u0275\u0275listener"]("click",function(){return t.close()}),r["\u0275\u0275element"](41,"i",25),r["\u0275\u0275text"](42,"\xa0 Annuler"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](43,"button",26),r["\u0275\u0275template"](44,re,3,0,"span",27),r["\u0275\u0275template"](45,ae,2,0,"span",27),r["\u0275\u0275template"](46,le,1,0,"span",28),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](10),n=r["\u0275\u0275reference"](19),s=r["\u0275\u0275reference"](28),i=r["\u0275\u0275reference"](36);r["\u0275\u0275advance"](18),r["\u0275\u0275property"]("ngModel",t.item.user),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.users),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.item.agency),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.agencies),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",s.dirty&&s.hasError("required")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",t.item.group),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.groups),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("disabled",!e.valid||t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.show),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.show)}},directives:[p["\u0275angular_packages_forms_forms_y"],p.NgControlStatusGroup,p.NgForm,p.SelectControlValueAccessor,p.RequiredValidator,p.NgControlStatus,p.NgModel,s.k,s.l,p.NgSelectOption,p["\u0275angular_packages_forms_forms_x"]],styles:[""]}),e})();var me=n("5KfZ"),de=n("/n7v");function ce(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",8),r["\u0275\u0275elementStart"](1,"div",9),r["\u0275\u0275elementStart"](2,"div",10),r["\u0275\u0275elementStart"](3,"div",11),r["\u0275\u0275element"](4,"img",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"p",13),r["\u0275\u0275text"](6,"Veuillez Patientez..."),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())}function ue(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",8),r["\u0275\u0275elementStart"](1,"div",9),r["\u0275\u0275elementStart"](2,"div",10),r["\u0275\u0275elementStart"](3,"div",11),r["\u0275\u0275element"](4,"img",14),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"p",13),r["\u0275\u0275text"](6,"Aucun r\xe9sultat trouv\xe9 !"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())}function pe(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tr",18),r["\u0275\u0275elementStart"](1,"td",21),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td",21),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td",21),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"td",21),r["\u0275\u0275text"](8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"td",21),r["\u0275\u0275text"](10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"td",21),r["\u0275\u0275text"](12),r["\u0275\u0275pipe"](13,"date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"td",22),r["\u0275\u0275elementStart"](15,"a",23),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).updateModal(n)}),r["\u0275\u0275element"](16,"i",24),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"a",25),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).changePassModal(n)}),r["\u0275\u0275element"](18,"i",26),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"a",27),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).deleteModal(n)}),r["\u0275\u0275element"](20,"i",28),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.id," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.login," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.user.lastname+" "+e.user.firstname," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.group.name," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.agency.name," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind4"](13,9,e.date_of_creation,"mediumDate","","fr")," "),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("placement","top"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("placement","top"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("placement","top")}}function he(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",15),r["\u0275\u0275elementStart"](1,"table",16),r["\u0275\u0275elementStart"](2,"thead",17),r["\u0275\u0275elementStart"](3,"tr",18),r["\u0275\u0275elementStart"](4,"th"),r["\u0275\u0275text"](5,"#"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"th"),r["\u0275\u0275text"](7,"Login"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"th"),r["\u0275\u0275text"](9,"Utilisateur"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"th"),r["\u0275\u0275text"](11,"Groupe"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"th"),r["\u0275\u0275text"](13,"Agence"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"th"),r["\u0275\u0275text"](15,"Cr\xe9\xe9 le"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"th"),r["\u0275\u0275text"](17,"Actions"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"tbody"),r["\u0275\u0275template"](19,pe,21,14,"tr",19),r["\u0275\u0275pipe"](20,"slice"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](21,"ngb-pagination",20),r["\u0275\u0275listener"]("pageChange",function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().page=t}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](19),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind3"](20,8,e.profiles,(e.page-1)*e.pageSize,e.page*e.pageSize)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("collectionSize",e.profiles.length)("page",e.page)("pageSize",e.pageSize)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}const ge=[{path:"",component:(()=>{class e{constructor(e,t,n,s,i){this.modalService=e,this.constantService=t,this.profileService=n,this.locStorService=s,this.route=i,this.profiles=[],this.isCreateVisible=!1,this.isLoading=!1,this.page=1,this.pageSize=30}ngOnInit(){this.user=this.locStorService.getUser(),this.getProfiles(),this.dtOptions=this.constantService.DtOptions}getProfiles(){this.isLoading=!0,this.profiles=[],this.profileService.getProfiles(this.user).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.profiles=e},e=>{this.isLoading=!1})}trackByFn(e,t){return t.id}createModal(){this.modalService.open(X).componentInstance.created.subscribe(e=>{})}deleteModal(e){this.modalService.open(Z).componentInstance.item=e}updateModal(e){this.modalService.open(oe).componentInstance.item=e}changePassModal(e){this.modalService.open(_).componentInstance.item=e}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](m.j),r["\u0275\u0275directiveInject"](me.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-profiles"]],decls:9,vars:4,consts:[[1,"row","btn-page"],[1,"col-sm-12"],["cardClass","card-datatable",3,"hidHeader"],[1,"row","align-items-center","m-l-0"],["class","row d-flex justify-content-center mb-5","style","margin-bottom: 10em;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"btn","btn-primary","text-center","btn-sm","btn-round","has-ripple","float",3,"click"],[1,"feather","icon-plus","my-float","text-center","pb-3"],[1,"row","d-flex","justify-content-center","mb-5",2,"margin-bottom","10em"],[1,"col-md-12","text-center","p-0"],[1,"p-20","pb-3"],[1,"risk-rate"],["src","assets/images/params/spinner.gif","alt","","width","15%"],[1,"text-muted","h3","mb-5"],["src","assets/images/params/liste_vide.png","alt","","width","15%"],[1,"table-responsive"],["id","report-table",1,"table","mb-0"],[1,"thead-light"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"float-right","mt-2",3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"align-middle","p-0"],[1,"align-middle","p-1"],["ngbTooltip","Mettre \xe0 jour",1,"btn","btn-icon","btn-outline-success",3,"placement","click"],[1,"fas","fa-user-edit"],["ngbTooltip","Modifier le Mot de Passe",1,"btn","btn-icon","btn-outline-warning",3,"placement","click"],[1,"fas","fa-user-lock"],["ngbTooltip","Supprimer",1,"btn","btn-icon","btn-outline-danger",3,"placement","click"],[1,"feather","icon-trash-2"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"app-card",2),r["\u0275\u0275element"](3,"div",3),r["\u0275\u0275template"](4,ce,7,0,"div",4),r["\u0275\u0275template"](5,ue,7,0,"div",4),r["\u0275\u0275template"](6,he,22,12,"div",5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"button",6),r["\u0275\u0275listener"]("click",function(){return t.createModal()}),r["\u0275\u0275element"](8,"i",7),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("hidHeader",!0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.isLoading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.noData&&!t.isLoading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.isLoading&&!t.noData))},directives:[de.a,s.l,s.k,m.m,m.t],pipes:[s.r,s.d],styles:[""]}),e})()}];let fe=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.j.forChild(ge)],i.j]}),e})();var ve=n("ebz3");let Se=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.b,fe,ve.a]]}),e})()}}]);