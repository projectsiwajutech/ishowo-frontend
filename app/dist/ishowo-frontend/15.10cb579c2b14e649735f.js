(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+PR4":function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},LsRi:function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},SQ0T:function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},ganE:function(e,t,n){"use strict";n.r(t),n.d(t,"HsProductsModule",function(){return z});var r=n("ofXK"),a=n("ebz3"),i=n("tyNb"),o=n("LsRi"),s=n("iHma"),d=n("SQ0T"),c=n("+PR4"),l=n("u8Yb"),m=n("fXoL"),p=n("uGHp"),u=n("2IxJ"),g=n("TM25"),h=n("kwXE"),f=n("hmux"),S=n("EqsU"),v=n("h8t+"),y=n("/n7v"),x=n("3Pt+"),E=n("1kSV"),b=n("vohr");function w(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",17),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275property"]("ngValue",e),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](e.name)}}function L(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",18),m["\u0275\u0275elementStart"](1,"div",19),m["\u0275\u0275elementStart"](2,"div",20),m["\u0275\u0275elementStart"](3,"div",21),m["\u0275\u0275element"](4,"img",22),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"p",23),m["\u0275\u0275text"](6,"Veuillez Patientez..."),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",18),m["\u0275\u0275elementStart"](1,"div",19),m["\u0275\u0275elementStart"](2,"div",20),m["\u0275\u0275elementStart"](3,"div",21),m["\u0275\u0275element"](4,"img",24),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"p",23),m["\u0275\u0275text"](6,"Aucun r\xe9sultat trouv\xe9 !"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"tr",33),m["\u0275\u0275elementStart"](1,"td",34),m["\u0275\u0275elementStart"](2,"div",35),m["\u0275\u0275elementStart"](3,"strong"),m["\u0275\u0275text"](4," Affichage du stock des produits en cours "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr",28),m["\u0275\u0275elementStart"](1,"td",36),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"td",29),m["\u0275\u0275text"](6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"td"),m["\u0275\u0275text"](8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"td"),m["\u0275\u0275text"](10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"td",37),m["\u0275\u0275text"](12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"td",37),m["\u0275\u0275text"](14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"](" ",n+1," "),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.barcode),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.product.product.name),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.product.product.category.name),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.product.measure_type.name),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.quantity),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](e.product.quantity)}}const _=function(e,t,n,r,a,i,o){return[e,t,n,r,a,i,o]};function M(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",25),m["\u0275\u0275elementStart"](1,"table",26),m["\u0275\u0275elementStart"](2,"thead",27),m["\u0275\u0275elementStart"](3,"tr",28),m["\u0275\u0275elementStart"](4,"th"),m["\u0275\u0275text"](5,"#"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"th"),m["\u0275\u0275text"](7,"R\xe9f\xe9rence"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"th",29),m["\u0275\u0275text"](9,"Produit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"th"),m["\u0275\u0275text"](11,"Cat\xe9gorie"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"th"),m["\u0275\u0275text"](13,"U.Mesure"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"th",28),m["\u0275\u0275text"](15,"Stock actuel"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"th",28),m["\u0275\u0275text"](17,"Quantit\xe9 Seuil"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"tbody"),m["\u0275\u0275template"](19,I,5,0,"tr",30),m["\u0275\u0275template"](20,C,15,7,"tr",31),m["\u0275\u0275pipe"](21,"slice"),m["\u0275\u0275pipe"](22,"stockView"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"ngb-pagination",32),m["\u0275\u0275listener"]("pageChange",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().page=t}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](19),m["\u0275\u0275property"]("ngIf",e.isLoading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",m["\u0275\u0275pipeBind3"](21,9,m["\u0275\u0275pipeBindV"](22,13,m["\u0275\u0275pureFunction7"](21,_,e.underStockList,e.param.product,e.param.category.id,e.param.measure_type.id,e.param.location.id,e.param.agency.id,e.param.codebarre)),(e.page-1)*e.pageSize,e.page*e.pageSize)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("collectionSize",e.underStockList.length)("page",e.page)("pageSize",e.pageSize)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}const T=function(){return["/stocks/main"]},V=[{path:"",component:(()=>{class e{constructor(e,t,n,r,a,i,o,s){this.stockLimitService=e,this.measureTypeService=t,this.productService=n,this.locStorService=r,this.categoryService=a,this.compartmentService=i,this.agencyService=o,this.router=s,this.underStockList=[],this.isOnDashBoard=!0,this.isCreateVisible=!1,this.isLoading=!1,this.page=1,this.pageSize=30,this.param=new l.a}ngOnInit(){this.user=this.locStorService.getUser(),this.getUnderStockProdList(),this.getMeasureTypes()}getUnderStockProdList(){this.isLoading=!0,this.underStockList=[],this.stockLimitService.getProdUnderStockLimit(this.user).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.underStockList=e},e=>{this.isLoading=!1})}trackByFn(e,t){return t.id}hideForm(){this.router.navigate(["/app/orders_main"])}getMeasureTypes(){this.measureTypes=[],this.measureTypeService.getMeasureTypes(this.user).then(e=>{let t=new c.a;t.id=0,t.name="Tous",this.measureTypes.push(t),null!==e&&e.filter(e=>this.measureTypes.push(e))},e=>{})}searchStockView(){this.isLoading=!0,this.underStockList=[],this.productService.searchStockView(this.user,{product_name:this.param.product,product_code:this.param.codebarre,id_profile:0}).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.underStockList=e},e=>{this.isLoading=!1})}getCategories(){this.categories=[],this.categoryService.getCategories(this.user).then(e=>{let t=new s.a;t.id=0,t.name="Toutes",this.categories.push(t),null!==e&&e.filter(e=>this.categories.push(e))},e=>{})}getCompartments(){this.compartments=[],this.compartmentService.getCompartments(this.user).then(e=>{let t=new d.a;t.id=0,t.name="Tous",this.compartments.push(t),null!==e&&e.filter(e=>this.compartments.push(e))},e=>{})}getAgencies(){this.agencies=[],this.agencyService.getAgencies(this.user).then(e=>{let t=new o.a;t.id=0,t.name="Toutes",this.agencies.push(t),null!==e&&e.filter(e=>this.agencies.push(e))},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](p.a),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](h.a),m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](S.a),m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](i.f))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-hs-products-list"]],inputs:{isOnDashBoard:"isOnDashBoard"},decls:24,vars:10,consts:[[3,"options","customHeader"],[1,"app-card-header"],["role","form"],["userForm","ngForm"],[1,"row"],[1,"form-group","mb-0","input-group","col-sm-5"],[1,"input-group-append"],[1,"btn","btn-info","font-weight-bold","btn-sm"],["type","text","maxlength","30","name","product","placeholder","Nom du produit",1,"form-control","pl-2",3,"ngModel","ngModelChange","keydown.enter"],[1,"btn","btn-secondary","font-weight-bold","btn-sm"],["name","measure_type",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","mb-0","input-group","col-sm-2"],[1,"btn","btn-light",3,"routerLink"],[1,"fa","fa-chevron-circle-left"],["class","row d-flex justify-content-center mb-5","style","margin-bottom: 10em;",4,"ngIf"],["class","table-responsive table-bordered table-hover",4,"ngIf"],[3,"ngValue"],[1,"row","d-flex","justify-content-center","mb-5",2,"margin-bottom","10em"],[1,"col-md-12","text-center","p-0"],[1,"p-20","pb-3"],[1,"risk-rate"],["src","assets/images/params/spinner.gif","alt","","width","15%"],[1,"text-muted","h3","mb-5"],["src","assets/images/params/liste_vide.png","alt","","width","15%"],[1,"table-responsive","table-bordered","table-hover"],["id","report-table",1,"table","mb-0"],[1,"thead-light"],[1,"text-center"],[1,"text-left"],["class","",4,"ngIf"],["class","text-center",4,"ngFor","ngForOf"],[1,"float-right","mt-2",3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,""],["colspan","13"],[1,"text-center","alert-info"],[1,"align-middle","p-0"],[1,"text-center","font-weight-bold","text-danger"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"app-card",0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"form",2,3),m["\u0275\u0275element"](4,"hr"),m["\u0275\u0275elementStart"](5,"div",4),m["\u0275\u0275elementStart"](6,"div",5),m["\u0275\u0275elementStart"](7,"div",6),m["\u0275\u0275elementStart"](8,"button",7),m["\u0275\u0275text"](9,"Produit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"input",8),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.param.product=e})("keydown.enter",function(){return t.searchStockView()}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",5),m["\u0275\u0275elementStart"](12,"div",6),m["\u0275\u0275elementStart"](13,"button",9),m["\u0275\u0275text"](14,"T.Mesure"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"select",10),m["\u0275\u0275listener"]("ngModelChange",function(e){return t.param.measure_type=e}),m["\u0275\u0275template"](16,w,2,2,"option",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"div",12),m["\u0275\u0275elementStart"](18,"button",13),m["\u0275\u0275element"](19,"span",14),m["\u0275\u0275text"](20," Retour"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](21,L,7,0,"div",15),m["\u0275\u0275template"](22,k,7,0,"div",15),m["\u0275\u0275template"](23,M,24,29,"div",16),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("options",!1)("customHeader",!0),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("ngModel",t.param.product),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngModel",t.param.measure_type),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.measureTypes),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction0"](9,T)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",t.isLoading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.noData&&!t.isLoading),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.isLoading&&!t.noData))},directives:[y.a,x["\u0275angular_packages_forms_forms_y"],x.NgControlStatusGroup,x.NgForm,x.DefaultValueAccessor,x.MaxLengthValidator,x.NgControlStatus,x.NgModel,x.SelectControlValueAccessor,r.k,i.g,r.l,x.NgSelectOption,x["\u0275angular_packages_forms_forms_x"],E.m],pipes:[r.r,b.a],styles:[""]}),e})()}];let j=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.j.forChild(V)],i.j]}),e})(),z=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.b,j,a.a]]}),e})()},iHma:function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},u8Yb:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("SQ0T"),a=n("iHma"),i=n("+PR4"),o=n("LsRi");class s{constructor(){this.product="",this.location=new r.a,this.agency=new o.a,this.category=new a.a,this.measure_type=new i.a,this.codebarre="",this.source=new r.a,this.destination=new r.a}}},vohr:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("fXoL");let a=(()=>{class e{transform(e,t,n,r,a,i,o){if(!e||!(t||n||r||a||i||o))return e;let s=e.filter(e=>!(!(e.product.product.name.toLowerCase().indexOf(t.toLowerCase())>=0)||void 0!==n&&0!==n&&e.product.product.category.id!==n||void 0!==r&&0!==r&&e.product.measure_type.id!==r||void 0!==a&&0!==a&&e.compartment.id!==a||void 0!==i&&0!==i&&e.compartment.agency.id!==i||!(void 0===o||""===o||e.barcode.toLowerCase().indexOf(o.toLowerCase())>=0)));return null===s&&(s=[]),s}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"stockView",type:e,pure:!0}),e})()}}]);