(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+PR4":function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{}},LsRi:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{}},SQ0T:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{}},b1CW:function(e,t,n){"use strict";n.r(t),n.d(t,"ParamsModule",function(){return se});var i=n("ofXK"),s=n("tyNb"),r=n("iHma"),a=n("u8Yb"),o=n("fXoL"),l=(n("QVta"),n("PdH4")),c=n.n(l),d=n("BSRH"),m=n("1kSV"),u=n("TM25"),h=n("hmux"),p=n("2IxJ"),g=n("kwXE"),f=n("3Pt+"),v=n("fxYm"),S=n("/n7v");function y(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",16),o["\u0275\u0275text"](1," Suppression d'un type de mesure en cours..."),o["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",17),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("ngValue",e),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name)}}function E(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"tr",18),o["\u0275\u0275elementStart"](1,"td"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td",13),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td",19),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const n=t.index,i=t.$implicit;return o["\u0275\u0275nextContext"]().removeMeasureType(n,i)}),o["\u0275\u0275elementStart"](6,"a",20),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const n=t.index,i=t.$implicit;return o["\u0275\u0275nextContext"]().removeMeasureType(n,i)}),o["\u0275\u0275element"](7,"i",21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](n+1),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.measure_type.name)}}let x=(()=>{class e{constructor(e){this.productService=e,this.list_changed=new o.EventEmitter,this.isRemoving=!1}ngOnInit(){}ngOnChanges(){null==this.addedMeasureTypes&&(this.addedMeasureTypes=[])}addMesureType(){if(null==this.selectedMeasureType||void 0===this.selectedMeasureType.id)return;if(null==this.addedMeasureTypes&&(this.addedMeasureTypes=[]),0!==this.addedMeasureTypes.filter(e=>e.measure_type.id===this.selectedMeasureType.id).length)return;let e=new v.a;e.measure_type=this.selectedMeasureType,this.addedMeasureTypes.push(e),this.list_changed.emit(this.addedMeasureTypes),this.selectedMeasureType=void 0}removeMeasureType(e,t){this.isRemoving=!0,this.productService.deleteProdMeasureType(t).then(t=>{this.isRemoving=!1,this.addedMeasureTypes.splice(e,1),this.list_changed.emit(this.addedMeasureTypes)},e=>{this.isRemoving=!1})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-measure-type"]],inputs:{measureTypes:"measureTypes",addedMeasureTypes:"addedMeasureTypes",subject:"subject"},outputs:{list_changed:"list_changed"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:21,vars:5,consts:[["class","row bg-info text-center",4,"ngIf"],["cardTitle","Types de mesure",3,"options"],[1,"form"],[1,"row","mb-2"],[1,"col-sm-6"],["name","measureTypeEl",1,"form-control",3,"ngModel","ngModelChange"],["measureTypeEl","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","submit","name","seach","id","search-btn",1,"btn","btn-info",3,"click"],[1,"fa","fa-plus"],[1,"table","table-bordered","table-stripped","border","border-info","rounded"],[1,"bg-yellow"],[2,"width","10px"],[1,"text-center"],[2,"width","40px"],["class","bg-gray-light text-center",4,"ngFor","ngForOf"],[1,"row","bg-info","text-center"],[3,"ngValue"],[1,"bg-gray-light","text-center"],[2,"background-color","#ffe5e5",3,"click"],["title","Retirer",3,"click"],[1,"fa","fa-trash","text-danger","error_msg2","bg-red"]],template:function(e,t){1&e&&(o["\u0275\u0275template"](0,y,2,0,"div",0),o["\u0275\u0275elementStart"](1,"app-card",1),o["\u0275\u0275elementStart"](2,"form",2),o["\u0275\u0275elementStart"](3,"div",3),o["\u0275\u0275elementStart"](4,"div",4),o["\u0275\u0275elementStart"](5,"select",5,6),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedMeasureType=e}),o["\u0275\u0275template"](7,b,2,2,"option",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",4),o["\u0275\u0275elementStart"](9,"button",8),o["\u0275\u0275listener"]("click",function(){return t.addMesureType()}),o["\u0275\u0275element"](10,"i",9),o["\u0275\u0275text"](11," Ajouter"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"table",10),o["\u0275\u0275elementStart"](13,"tr",11),o["\u0275\u0275elementStart"](14,"th",12),o["\u0275\u0275text"](15,"#"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"th",13),o["\u0275\u0275text"](17,"Libell\xe9"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"th",14),o["\u0275\u0275text"](19,"Retrait"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](20,E,8,2,"tr",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275property"]("ngIf",t.isRemoving),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("options",!1),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",t.selectedMeasureType),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.measureTypes),o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("ngForOf",t.addedMeasureTypes))},directives:[i.l,S.a,f["\u0275angular_packages_forms_forms_y"],f.NgControlStatusGroup,f.NgForm,f.SelectControlValueAccessor,f.NgControlStatus,f.NgModel,i.k,f.NgSelectOption,f["\u0275angular_packages_forms_forms_x"]],styles:[""]}),e})();class C{}var M=n("6mAB");function _(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",11),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("ngValue",e),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.measure_type.name)}}function w(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",11),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("ngValue",e),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.measure_type.name)}}let k=(()=>{class e{constructor(e,t,n,i){this.productService=e,this.libraryService=t,this.route=n,this.router=i,this.item_changed=new o.EventEmitter,this.item_removed=new o.EventEmitter}ngOnInit(){}ngOnChanges(){null!=this.item.bulk&&0!==this.item.bulk.id&&(this.item.bulk=this.measure_types.filter(e=>e.id===this.item.bulk.id)[0]),null!=this.item.retail&&0!==this.item.retail.id&&(this.item.retail=this.measure_types.filter(e=>e.id===this.item.retail.id)[0])}trackByFn(e,t){return t.id}updateInternalComponent(){null!=this.item.bulk&&null!=this.item.retail&&this.item.bulk.measure_type.id===this.item.retail.measure_type.id&&(this.libraryService.showMessage("La mesure parent et la mesure enfant ne peuvent \xeatre identiques"),this.item.retail=new v.a),this.item_changed.emit(this.item)}removeAssociation(e){e.preventDefault(),e.stopPropagation(),this.item_removed.emit(this.item),this.item_changed.emit(this.item)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](u.a),o["\u0275\u0275directiveInject"](M.a),o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](s.f))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-contenance"]],inputs:{item:"item",measure_types:"measure_types",index:"index",subject:"subject"},outputs:{item_changed:"item_changed",item_removed:"item_removed"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:19,vars:6,consts:[[1,"table"],[1,"text-center"],["name","bulk",1,"form-control",3,"ngModel","ngModelChange","change"],["bulk","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number","name","quantity","maxlength","5","placeholder","",1,"form-control",3,"ngModel","keyup","ngModelChange"],["name","retail",1,"form-control",3,"ngModel","ngModelChange","change"],["retail","ngModel"],[2,"background-color","#ffe5e5",3,"click"],["title","Retirer",1,"item-click","text-center",3,"click"],[1,"fa","pt-3","fa-trash","text-danger","error_msg2","bg-red"],[3,"ngValue"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"table",0),o["\u0275\u0275elementStart"](1,"tr",1),o["\u0275\u0275elementStart"](2,"th"),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"th"),o["\u0275\u0275elementStart"](5,"select",2,3),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.bulk=e})("change",function(){return t.updateInternalComponent()}),o["\u0275\u0275template"](7,_,2,2,"option",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"th"),o["\u0275\u0275text"](9," contient "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"th"),o["\u0275\u0275elementStart"](11,"input",5),o["\u0275\u0275listener"]("keyup",function(){return t.updateInternalComponent()})("ngModelChange",function(e){return t.item.quantity=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"th"),o["\u0275\u0275elementStart"](13,"select",6,7),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.retail=e})("change",function(){return t.updateInternalComponent()}),o["\u0275\u0275template"](15,w,2,2,"option",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"th",8),o["\u0275\u0275listener"]("click",function(e){return t.removeAssociation(e)}),o["\u0275\u0275elementStart"](17,"a",9),o["\u0275\u0275listener"]("click",function(e){return t.removeAssociation(e)}),o["\u0275\u0275element"](18,"i",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",t.index+1,""),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",t.item.bulk),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.measure_types),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",t.item.quantity),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",t.item.retail),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.measure_types))},directives:[f.SelectControlValueAccessor,f.NgControlStatus,f.NgModel,i.k,f.NumberValueAccessor,f.DefaultValueAccessor,f.MaxLengthValidator,f.NgSelectOption,f["\u0275angular_packages_forms_forms_x"]],styles:[""]}),e})();function I(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",13),o["\u0275\u0275text"](1," Suppression d'une association en cours..."),o["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"app-contenance",14),o["\u0275\u0275listener"]("item_changed",function(n){o["\u0275\u0275restoreView"](e);const i=t.index;return o["\u0275\u0275nextContext"]().getItem(n,i)})("item_removed",function(n){o["\u0275\u0275restoreView"](e);const i=t.index;return o["\u0275\u0275nextContext"]().onItemRemove(n,i)}),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("measure_types",i.measure_types)("item",e)("index",n)}}let V=(()=>{class e{constructor(e,t){this.productService=e,this.libraryService=t,this.theDate=new Date,this.measure_types=[],this.list_changed=new o.EventEmitter,this.list_checked=new o.EventEmitter,this.isRemoving=!1}ngOnInit(){this.list_checked.emit(this.isComponentValid())}ngOnChanges(){this.list_checked.emit(this.isComponentValid())}addLine(){if(void 0===this.associations&&(this.associations=[]),void 0===this.measure_types||0===this.measure_types.length)return void this.libraryService.showMessage("Veuillez ajouter au moins un type de mesure");if(this.associations.length===this.measure_types.length-1)return void this.libraryService.showMessage("Vous ne pouvez pas ajouter plus d'associations");let e=new C;e.index=this.associations.length+1,e.quantity=0,e.bulk=new v.a,e.retail=new v.a,this.associations.push(e),this.list_checked.emit(this.isComponentValid())}getItem(e,t){this.list_changed.emit(this.associations),this.list_checked.emit(this.isComponentValid())}isComponentValid(){let e=!0;if(void 0===this.associations)return!1;for(let t=0;t<this.associations.length;t++)void 0!==this.associations[t].bulk&&void 0!==this.associations[t].retail&&null!==this.associations[t].bulk&&null!==this.associations[t].retail&&0!==this.associations[t].quantity&&!1!==this.libraryService.isValidNumber(this.associations[t].quantity)||(e=!1);return e}trackByFn(e,t){return t.index}onItemRemove(e,t){this.isRemoving=!0,this.productService.deleteProdAssociation(e).then(e=>{this.isRemoving=!1,this.associations.splice(t,1),this.list_changed.emit(this.associations),this.list_checked.emit(this.isComponentValid())},e=>{this.isRemoving=!1})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](u.a),o["\u0275\u0275directiveInject"](M.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-contenance-list"]],inputs:{measure_types:"measure_types",associations:"associations"},outputs:{list_changed:"list_changed",list_checked:"list_checked"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:22,vars:4,consts:[["class","row bg-info text-center",4,"ngIf"],["cardTitle","Associations Gros - d\xe9tail",3,"options"],[1,"form"],[1,"row","mb-2"],[1,"col-sm-12"],["type","submit","name","seach","id","search-btn",1,"btn","btn-info","float-right",3,"click"],[1,"fa","fa-plus"],[1,"table","table-bordered","table-stripped","border","border-info","rounded"],[1,"bg-yellow"],[2,"width","10px"],[1,"text-center"],[2,"width","40px"],[3,"measure_types","item","index","item_changed","item_removed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","bg-info","text-center"],[3,"measure_types","item","index","item_changed","item_removed"]],template:function(e,t){1&e&&(o["\u0275\u0275template"](0,I,2,0,"div",0),o["\u0275\u0275elementStart"](1,"app-card",1),o["\u0275\u0275elementStart"](2,"form",2),o["\u0275\u0275elementStart"](3,"div",3),o["\u0275\u0275elementStart"](4,"div",4),o["\u0275\u0275elementStart"](5,"button",5),o["\u0275\u0275listener"]("click",function(){return t.addLine()}),o["\u0275\u0275element"](6,"i",6),o["\u0275\u0275text"](7," Ajouter"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"table",7),o["\u0275\u0275elementStart"](9,"tr",8),o["\u0275\u0275elementStart"](10,"th",9),o["\u0275\u0275text"](11,"#"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"th",10),o["\u0275\u0275text"](13,"Gros"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](14,"th",10),o["\u0275\u0275elementStart"](15,"th",10),o["\u0275\u0275text"](16,"Quantit\xe9"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"th",10),o["\u0275\u0275text"](18,"D\xe9tail"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"th",11),o["\u0275\u0275text"](20,"Retrait"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](21,T,1,3,"app-contenance",12),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275property"]("ngIf",t.isRemoving),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("options",!1),o["\u0275\u0275advance"](20),o["\u0275\u0275property"]("ngForOf",t.associations)("ngForTrackBy",t.trackByFn))},directives:[i.l,S.a,f["\u0275angular_packages_forms_forms_y"],f.NgControlStatusGroup,f.NgForm,i.k,k],styles:[""]}),e})();function j(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"small",28),o["\u0275\u0275text"](1,"Nom du produit manquant"),o["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",29),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("ngValue",e),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name)}}function L(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"small",28),o["\u0275\u0275text"](1," Cat\xe9gorie du produit manquante"),o["\u0275\u0275elementEnd"]())}function N(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275element"](1,"i",30),o["\u0275\u0275text"](2," Enregistrer"),o["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),o["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&o["\u0275\u0275element"](0,"span",31)}let A=(()=>{class e{constructor(e,t,n,i,s,r){this.router=e,this.activeModal=t,this.productService=n,this.categoryService=i,this.measureTypeService=s,this.locStorService=r,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.areMeasureTypeAssociationsValid=!1,this.created=new o.EventEmitter}ngOnInit(){this.onLoadFocus(),this.user=this.locStorService.getUser(),this.item=new d.a,this.getCategories(),this.getMeasureTypes()}ngOnChanges(){this.user=this.locStorService.getUser(),this.item=new d.a}save(e){this.item.reference="",this.item.agent=this.user,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.productService.createProduct(this.item).then(e=>{this.show=!0,this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=new d.a,this.created.emit("created"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}getCategories(){this.categories=[],this.categoryService.getCategories(this.user).then(e=>{this.categories=e},e=>{})}getMeasureTypes(){this.measureTypes=[],this.measureTypeService.getMeasureTypes(this.user).then(e=>{this.measureTypes=e},e=>{})}canSaveProd(){return 1!=(null==this.item.name||""===this.item.name)&&1!=(null==this.item.category)&&1!=(void 0===this.item.measure_types||0===this.item.measure_types.length)&&1!=(null!=this.item.reference&&this.item.reference.length<13)&&1!=(void 0!==this.item.measure_associations&&0!==this.item.measure_associations.length&&!1===this.areMeasureTypeAssociationsValid)}onListChanged(e){this.item.measure_associations=e}onListChecked(e){this.areMeasureTypeAssociationsValid=e}onMeasureTypeListChanged(e){this.item.measure_types=e}successSwal(){c.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){c.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.created.emit("created"),this.activeModal.close()}onLoadFocus(){document.getElementById("product_name").focus()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](s.f),o["\u0275\u0275directiveInject"](m.a),o["\u0275\u0275directiveInject"](u.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-product-create"]],inputs:{subject:"subject"},outputs:{created:"created"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:40,vars:13,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],["userForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"form-group"],["for","df"],["type","text","maxlength","100","name","name","placeholder","Nom","required","","id","product_name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","error_msg text-danger font-italic",4,"ngIf"],["for","vdfd"],["name","category","required","",1,"form-control",3,"ngModel","ngModelChange"],["category","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"measureTypes","addedMeasureTypes","list_changed"],[1,"col-sm-8"],[3,"measure_types","associations","list_changed","list_checked"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"error_msg","text-danger","font-italic"],[3,"ngValue"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275element"](0,"div",null,0),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275elementStart"](3,"h5",2),o["\u0275\u0275text"](4,"Nouveau Produit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",3),o["\u0275\u0275listener"]("click",function(){return t.close()}),o["\u0275\u0275elementStart"](6,"span",4),o["\u0275\u0275text"](7,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",5),o["\u0275\u0275elementStart"](9,"form",6,7),o["\u0275\u0275listener"]("ngSubmit",function(){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275reference"](10);return t.save(n.value)}),o["\u0275\u0275elementStart"](11,"div",8),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"label",11),o["\u0275\u0275text"](15,"Nom"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"input",12,13),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.name=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](18,j,2,0,"small",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",9),o["\u0275\u0275elementStart"](20,"div",10),o["\u0275\u0275elementStart"](21,"label",15),o["\u0275\u0275text"](22,"Cat\xe9gorie"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"select",16,17),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.category=e}),o["\u0275\u0275template"](25,F,2,2,"option",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](26,L,2,0,"small",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](27,"div",8),o["\u0275\u0275elementStart"](28,"div",9),o["\u0275\u0275elementStart"](29,"app-measure-type",19),o["\u0275\u0275listener"]("list_changed",function(e){return t.onMeasureTypeListChanged(e)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](30,"div",20),o["\u0275\u0275elementStart"](31,"app-contenance-list",21),o["\u0275\u0275listener"]("list_changed",function(e){return t.onListChanged(e)})("list_checked",function(e){return t.onListChecked(e)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](32,"div",22),o["\u0275\u0275elementStart"](33,"button",23),o["\u0275\u0275listener"]("click",function(){return t.close()}),o["\u0275\u0275element"](34,"i",24),o["\u0275\u0275text"](35,"\xa0 Annuler"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](36,"button",25),o["\u0275\u0275template"](37,N,3,0,"span",26),o["\u0275\u0275template"](38,O,2,0,"span",26),o["\u0275\u0275template"](39,P,1,0,"span",27),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](10),n=o["\u0275\u0275reference"](17),i=o["\u0275\u0275reference"](24);o["\u0275\u0275advance"](16),o["\u0275\u0275property"]("ngModel",t.item.name),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.item.category),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.categories),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("measureTypes",t.measureTypes)("addedMeasureTypes",t.item.measure_types),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("measure_types",t.item.measure_types)("associations",t.item.measure_associations),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("disabled",!e.valid||t.show||!t.canSaveProd()),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.show),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.show),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.show)}},directives:[f["\u0275angular_packages_forms_forms_y"],f.NgControlStatusGroup,f.NgForm,f.DefaultValueAccessor,f.MaxLengthValidator,f.RequiredValidator,f.NgControlStatus,f.NgModel,i.l,f.SelectControlValueAccessor,i.k,x,V,f.NgSelectOption,f["\u0275angular_packages_forms_forms_x"]],styles:[""]}),e})();function z(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275element"](1,"i",15),o["\u0275\u0275text"](2," Oui, je supprime"),o["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1," Patientez... \xa0"),o["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&o["\u0275\u0275element"](0,"span",16)}let q=(()=>{class e{constructor(e,t,n,i){this.router=e,this.activeModal=t,this.productService=n,this.route=i,this.show=!1,this.visible=!1,this.item=null,this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.deleted=new o.EventEmitter}ngOnInit(){}ngOnChanges(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1}delete(){this.show=!0,this.isDeleting=!0,this.isCompleted=!1,this.statusMessage="",this.productService.deleteProduct(this.item.id).then(e=>{this.isDeleting=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.deleted.emit("deleted"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isDeleting=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1}hideForm(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.item=null}successSwal(){c.a.fire({customClass:{container:"myCustomSwal"},title:"Suppression r\xe9ussie!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){c.a.fire("Echec de la Suppression!","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.deleted.emit("deleted"),this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](s.f),o["\u0275\u0275directiveInject"](m.a),o["\u0275\u0275directiveInject"](u.a),o["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-product-delete"]],inputs:{item:"item",subject:"subject"},outputs:{deleted:"deleted"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:21,vars:4,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],["src","assets/images/params/delete.png","width","20%","alt","",1,"rounded","mb-3"],[1,"text-center","m-4"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-danger","col-sm-6",3,"disabled","click"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"fa","fa-trash","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){1&e&&(o["\u0275\u0275element"](0,"div",null,0),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275elementStart"](3,"h5",2),o["\u0275\u0275text"](4,"Suppresion de Produit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",3),o["\u0275\u0275listener"]("click",function(){return t.close()}),o["\u0275\u0275elementStart"](6,"span",4),o["\u0275\u0275text"](7,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",5),o["\u0275\u0275elementStart"](9,"div",6),o["\u0275\u0275element"](10,"img",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"h5",8),o["\u0275\u0275text"](12," Confirmez-vous la suppression de ce produit ?"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",9),o["\u0275\u0275elementStart"](14,"button",10),o["\u0275\u0275listener"]("click",function(){return t.close()}),o["\u0275\u0275element"](15,"i",11),o["\u0275\u0275text"](16,"\xa0 Non"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"button",12),o["\u0275\u0275listener"]("click",function(){return t.delete()}),o["\u0275\u0275template"](18,z,3,0,"span",13),o["\u0275\u0275template"](19,R,2,0,"span",13),o["\u0275\u0275template"](20,B,1,0,"span",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](17),o["\u0275\u0275property"]("disabled",t.show),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.show),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.show),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.show))},directives:[i.l],styles:[""]}),e})();function D(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"small",28),o["\u0275\u0275text"](1,"Nom du produit manquant"),o["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",29),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("ngValue",e),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name)}}function $(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"small",28),o["\u0275\u0275text"](1,"Cat\xe9gorie du produit manquante"),o["\u0275\u0275elementEnd"]())}function H(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275element"](1,"i",30),o["\u0275\u0275text"](2," Enregistrer"),o["\u0275\u0275elementEnd"]())}function G(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),o["\u0275\u0275elementEnd"]())}function Q(e,t){1&e&&o["\u0275\u0275element"](0,"span",31)}let J=(()=>{class e{constructor(e,t,n,i,s,r){this.router=e,this.activeModal=t,this.productService=n,this.categoryService=i,this.measureTypeService=s,this.locStorService=r,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.areMeasureTypeAssociationsValid=!1,this.categories=[],this.measureTypes=[],this.updated=new o.EventEmitter}ngOnInit(){this.onLoadFocus(),this.user=this.locStorService.getUser(),this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.getCategories()}ngOnChanges(){this.user=this.locStorService.getUser(),this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,0!==this.categories.length?this.selectCategory():this.getCategories(),0!==this.measureTypes.length||this.getMeasureTypes()}save(e){this.show=!0,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.item.reference=this.item.reference+"",this.productService.updateProduct(this.item).then(e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.updated.emit("updated"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1}hideForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.item=null}selectCategory(){null!=this.categories&&0!==this.categories.length&&(null==this.item&&(this.item=new d.a),this.item.category=this.categories.filter(e=>e.id===this.item.category.id)[0])}getCategories(){this.categories=[],this.categoryService.getCategories(this.user).then(e=>{this.categories=e,this.selectCategory()},e=>{})}getMeasureTypes(){this.measureTypes=[],this.measureTypeService.getMeasureTypes(this.user).then(e=>{this.measureTypes=e},e=>{})}canSaveProd(){return 1!=(null==this.item.name||""===this.item.name)&&1!=(null==this.item.category)&&1!=(void 0===this.item.measure_types||0===this.item.measure_types.length)&&1!=(void 0!==this.item.measure_associations&&0!==this.item.measure_associations.length&&!1===this.areMeasureTypeAssociationsValid)}onListChanged(e){this.item.measure_associations=e}onListChecked(e){this.areMeasureTypeAssociationsValid=e}onMeasureTypeListChanged(e){this.item.measure_types=e}successSwal(){c.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){c.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.updated.emit("updated"),this.activeModal.close()}onLoadFocus(){document.getElementById("product_name").focus()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](s.f),o["\u0275\u0275directiveInject"](m.a),o["\u0275\u0275directiveInject"](u.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-product-update"]],inputs:{item:"item",subject:"subject"},outputs:{updated:"updated"},features:[o["\u0275\u0275NgOnChangesFeature"]],decls:40,vars:13,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],["userForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"form-group"],["for","fdf"],["type","text","maxlength","100","id","product_name","name","name","placeholder","Nom","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","error_msg text-danger font-italic",4,"ngIf"],["for","vdfd"],["name","category","required","",1,"form-control",3,"ngModel","ngModelChange"],["category","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"measureTypes","addedMeasureTypes","list_changed"],[1,"col-sm-8"],[3,"measure_types","associations","list_changed","list_checked"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"error_msg","text-danger","font-italic"],[3,"ngValue"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275element"](0,"div",null,0),o["\u0275\u0275elementStart"](2,"div",1),o["\u0275\u0275elementStart"](3,"h5",2),o["\u0275\u0275text"](4,"Mis \xe0 jour de Produit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",3),o["\u0275\u0275listener"]("click",function(){return t.close()}),o["\u0275\u0275elementStart"](6,"span",4),o["\u0275\u0275text"](7,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",5),o["\u0275\u0275elementStart"](9,"form",6,7),o["\u0275\u0275listener"]("ngSubmit",function(){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275reference"](10);return t.save(n.value)}),o["\u0275\u0275elementStart"](11,"div",8),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"div",10),o["\u0275\u0275elementStart"](14,"label",11),o["\u0275\u0275text"](15,"Nom"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"input",12,13),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.name=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](18,D,2,0,"small",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"div",9),o["\u0275\u0275elementStart"](20,"div",10),o["\u0275\u0275elementStart"](21,"label",15),o["\u0275\u0275text"](22,"Cat\xe9gorie"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"select",16,17),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.category=e}),o["\u0275\u0275template"](25,U,2,2,"option",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](26,$,2,0,"small",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](27,"div",8),o["\u0275\u0275elementStart"](28,"div",9),o["\u0275\u0275elementStart"](29,"app-measure-type",19),o["\u0275\u0275listener"]("list_changed",function(e){return t.onMeasureTypeListChanged(e)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](30,"div",20),o["\u0275\u0275elementStart"](31,"app-contenance-list",21),o["\u0275\u0275listener"]("list_changed",function(e){return t.onListChanged(e)})("list_checked",function(e){return t.onListChecked(e)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](32,"div",22),o["\u0275\u0275elementStart"](33,"button",23),o["\u0275\u0275listener"]("click",function(){return t.close()}),o["\u0275\u0275element"](34,"i",24),o["\u0275\u0275text"](35,"\xa0 Annuler"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](36,"button",25),o["\u0275\u0275template"](37,H,3,0,"span",26),o["\u0275\u0275template"](38,G,2,0,"span",26),o["\u0275\u0275template"](39,Q,1,0,"span",27),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](10),n=o["\u0275\u0275reference"](17),i=o["\u0275\u0275reference"](24);o["\u0275\u0275advance"](16),o["\u0275\u0275property"]("ngModel",t.item.name),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.item.category),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.categories),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("measureTypes",t.measureTypes)("addedMeasureTypes",t.item.measure_types),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("measure_types",t.item.measure_types)("associations",t.item.measure_associations),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("disabled",!e.valid||t.show||!t.canSaveProd()),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.show),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.show),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.show)}},directives:[f["\u0275angular_packages_forms_forms_y"],f.NgControlStatusGroup,f.NgForm,f.DefaultValueAccessor,f.MaxLengthValidator,f.RequiredValidator,f.NgControlStatus,f.NgModel,i.l,f.SelectControlValueAccessor,i.k,x,V,f.NgSelectOption,f["\u0275angular_packages_forms_forms_x"]],styles:[""]}),e})();var X=n("5KfZ");function Y(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",21),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("ngValue",e.name),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name)}}function K(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",22),o["\u0275\u0275elementStart"](1,"div",23),o["\u0275\u0275elementStart"](2,"div",24),o["\u0275\u0275elementStart"](3,"div",25),o["\u0275\u0275element"](4,"img",26),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"p",27),o["\u0275\u0275text"](6,"Veuillez Patientez..."),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function W(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",22),o["\u0275\u0275elementStart"](1,"div",23),o["\u0275\u0275elementStart"](2,"div",24),o["\u0275\u0275elementStart"](3,"div",25),o["\u0275\u0275element"](4,"img",28),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"p",27),o["\u0275\u0275text"](6,"Aucun r\xe9sultat trouv\xe9 !"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"tr",32),o["\u0275\u0275elementStart"](1,"td",35),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td",35),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td",35),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"td",35),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"td",36),o["\u0275\u0275elementStart"](10,"a",37),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"](2).updateModal(n)}),o["\u0275\u0275element"](11,"i",38),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"a",39),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"](2).deleteModal(n)}),o["\u0275\u0275element"](13,"i",40),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n+1," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.name," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.category.name," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.reference," ")}}function ee(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",29),o["\u0275\u0275elementStart"](1,"table",30),o["\u0275\u0275elementStart"](2,"thead",31),o["\u0275\u0275elementStart"](3,"tr",32),o["\u0275\u0275elementStart"](4,"th"),o["\u0275\u0275text"](5,"#"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"th"),o["\u0275\u0275text"](7,"Nom"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"th"),o["\u0275\u0275text"](9,"Cat\xe9gorie"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"th"),o["\u0275\u0275text"](11,"R\xe9ference"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"th"),o["\u0275\u0275text"](13,"Actions"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"tbody"),o["\u0275\u0275template"](15,Z,14,4,"tr",33),o["\u0275\u0275pipe"](16,"slice"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"ngb-pagination",34),o["\u0275\u0275listener"]("pageChange",function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().page=t}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](15),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind3"](16,8,e.products,(e.page-1)*e.pageSize,e.page*e.pageSize)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("collectionSize",e.products.length)("page",e.page)("pageSize",e.pageSize)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}const te=[{path:"",component:(()=>{class e{constructor(e,t,n,i,s,r,o){this.modalService=e,this.constantService=t,this.productService=n,this.categoryService=i,this.locStorService=s,this.libraryService=r,this.route=o,this.products=[],this.page=1,this.pageSize=30,this.isCreateVisible=!1,this.isLoading=!1,this.param=new a.a,this.pageStartIndex=0,this.limitTable=[],this.pageLimit=0}ngOnInit(){this.dtOptions=this.constantService.DtOptions,this.user=this.locStorService.getUser(),this.getCategories(),this.getProducts(),this.limitTable=this.libraryService.getPaginatorLimitList(),this.pageLimit=this.libraryService.getPaginatorDefaultLimit()}searchProducts(){this.isLoading=!0,this.products=[],this.productService.searchProducts(this.user,{product_categ:this.param.category,product_name:this.param.product,product_code:this.param.codebarre,id_profile:0}).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.products=e},e=>{this.isLoading=!1})}getProducts(){this.isLoading=!0,this.products=[],this.productService.getProducts(this.user).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.products=e},e=>{this.isLoading=!1})}trackByFn(e,t){return t.id}getCategories(){this.categories=[],this.categoryService.getCategories(this.user).then(e=>{let t=new r.a;t.id=0,t.name="Toutes",this.categories.push(t),e.filter(e=>this.categories.push(e))},e=>{})}createModal(){this.modalService.open(A,{size:"xl",backdrop:"static"}).componentInstance.created.subscribe(e=>{})}deleteModal(e){this.modalService.open(q).componentInstance.item=e}updateModal(e){this.modalService.open(J,{size:"xl",backdrop:"static"}).componentInstance.item=e}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](m.j),o["\u0275\u0275directiveInject"](X.a),o["\u0275\u0275directiveInject"](u.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](g.a),o["\u0275\u0275directiveInject"](M.a),o["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-products"]],decls:31,vars:8,consts:[[1,"row","btn-page"],[1,"col-sm-12"],["cardClass","card-datatable",3,"hidHeader"],[1,"row","align-items-center","m-l-0"],[1,"col-sm-12","p-3","mb-4","border","border-info","rounded"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","vdfd"],["name","cat_prod",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-3"],["type","text","maxlength","30","name","product","placeholder","Nom du produit",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["type","text","maxlength","30","name","codebarre","placeholder","Code barre",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],[1,"col-md-2"],[1,"btn","btn-info","btn-sm","btn-round","has-ripple",3,"click"],[1,"feather","icon-search"],["class","row d-flex justify-content-center mb-5","style","margin-bottom: 10em;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"btn","btn-primary","text-center","btn-sm","btn-round","has-ripple","float",3,"click"],[1,"feather","icon-plus","my-float","text-center","pb-3"],[3,"ngValue"],[1,"row","d-flex","justify-content-center","mb-5",2,"margin-bottom","10em"],[1,"col-md-12","text-center","p-0"],[1,"p-20","pb-3"],[1,"risk-rate"],["src","assets/images/params/spinner.gif","alt","","width","15%"],[1,"text-muted","h3","mb-5"],["src","assets/images/params/liste_vide.png","alt","","width","15%"],[1,"table-responsive"],["id","report-table",1,"table","mb-0"],[1,"thead-light"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"float-right","mt-2",3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"align-middle","p-0"],[1,"align-middle","p-1"],[1,"btn","btn-icon","btn-outline-success",3,"click"],[1,"feather","icon-edit"],[1,"btn","btn-icon","btn-outline-danger",3,"click"],[1,"feather","icon-trash-2"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"app-card",2),o["\u0275\u0275elementStart"](3,"div",3),o["\u0275\u0275elementStart"](4,"div",4),o["\u0275\u0275elementStart"](5,"div",5),o["\u0275\u0275elementStart"](6,"div",6),o["\u0275\u0275elementStart"](7,"div",7),o["\u0275\u0275elementStart"](8,"label",8),o["\u0275\u0275text"](9,"Cat\xe9gorie de Produit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"select",9),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.param.category=e})("change",function(){return t.searchProducts()}),o["\u0275\u0275template"](11,Y,2,2,"option",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",11),o["\u0275\u0275elementStart"](13,"div",7),o["\u0275\u0275elementStart"](14,"label",8),o["\u0275\u0275text"](15,"Nom du Produit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"input",12),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.param.product=e})("keydown.enter",function(){return t.searchProducts()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"div",11),o["\u0275\u0275elementStart"](18,"div",7),o["\u0275\u0275elementStart"](19,"label",8),o["\u0275\u0275text"](20,"Code Barre"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"input",13),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.param.codebarre=e})("keydown.enter",function(){return t.searchProducts()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"div",14),o["\u0275\u0275elementStart"](23,"button",15),o["\u0275\u0275listener"]("click",function(){return t.searchProducts()}),o["\u0275\u0275element"](24,"i",16),o["\u0275\u0275text"](25,"Rechercher"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](26,K,7,0,"div",17),o["\u0275\u0275template"](27,W,7,0,"div",17),o["\u0275\u0275template"](28,ee,18,12,"div",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](29,"button",19),o["\u0275\u0275listener"]("click",function(){return t.createModal()}),o["\u0275\u0275element"](30,"i",20),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("hidHeader",!0),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("ngModel",t.param.category),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.categories),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.param.product),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.param.codebarre),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",t.isLoading),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.noData&&!t.isLoading),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.isLoading&&!t.noData))},directives:[S.a,f.SelectControlValueAccessor,f.NgControlStatus,f.NgModel,i.k,f.DefaultValueAccessor,f.MaxLengthValidator,i.l,f.NgSelectOption,f["\u0275angular_packages_forms_forms_x"],m.m],pipes:[i.r],styles:[""]}),e})()}];let ne=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.j.forChild(te)],s.j]}),e})();var ie=n("ebz3");let se=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,ne,ie.a]]}),e})()},iHma:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class i{}},u8Yb:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("SQ0T"),s=n("iHma"),r=n("+PR4"),a=n("LsRi");class o{constructor(){this.product="",this.location=new i.a,this.agency=new a.a,this.category=new s.a,this.measure_type=new r.a,this.codebarre="",this.source=new i.a,this.destination=new i.a}}}}]);