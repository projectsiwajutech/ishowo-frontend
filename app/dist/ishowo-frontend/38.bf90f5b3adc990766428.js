(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{Km9j:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("fXoL");let a=(()=>{class e{transform(e,t){var n="";if(null===e||null==e)return e;for(var i=new String(e).split("").reverse().join(""),a=0;a<i.length/3;a++)n+=" "+i.substring(3*a,3*a+3);return new String(n).split("").reverse().join("")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"formatMoney",type:e,pure:!0}),e})()},acRa:function(e,t,n){"use strict";n.r(t),n.d(t,"ListDevisModule",function(){return x});var i=n("ofXK"),a=n("ebz3"),r=n("tyNb"),l=n("vg+W"),s=n("fXoL"),o=n("ttbK"),d=n("kwXE"),m=n("6mAB"),p=n("/n7v"),c=n("3Pt+"),u=n("1kSV"),g=n("Km9j");function h(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",17),s["\u0275\u0275elementStart"](1,"div",18),s["\u0275\u0275elementStart"](2,"div",19),s["\u0275\u0275elementStart"](3,"div",20),s["\u0275\u0275element"](4,"img",21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"p",22),s["\u0275\u0275text"](6,"Veuillez Patientez..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function f(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",17),s["\u0275\u0275elementStart"](1,"div",18),s["\u0275\u0275elementStart"](2,"div",19),s["\u0275\u0275elementStart"](3,"div",20),s["\u0275\u0275element"](4,"img",23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"p",22),s["\u0275\u0275text"](6,"Aucun r\xe9sultat trouv\xe9 !"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"tr",27),s["\u0275\u0275elementStart"](1,"td",30),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"td",30),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"td",30),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"td",30),s["\u0275\u0275text"](9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"td",30),s["\u0275\u0275text"](11),s["\u0275\u0275pipe"](12,"formatMoney"),s["\u0275\u0275elementStart"](13,"small"),s["\u0275\u0275text"](14,"FCFA"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"td",30),s["\u0275\u0275text"](16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"td",31),s["\u0275\u0275elementStart"](18,"a",32),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const n=t.$implicit;return s["\u0275\u0275nextContext"](2).viewDetails(n)}),s["\u0275\u0275element"](19,"i",33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",n+1," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind2"](5,6,e.date,"dd/MM/yyyy HH:mm")," "),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",i.getCustomer(e.customer)," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",e.lines.length," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](12,9,e.amount_to_pay)," "),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",i.getSeller(e.agent)," ")}}function v(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",24),s["\u0275\u0275elementStart"](1,"table",25),s["\u0275\u0275elementStart"](2,"thead",26),s["\u0275\u0275elementStart"](3,"tr",27),s["\u0275\u0275elementStart"](4,"th"),s["\u0275\u0275text"](5,"#"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"th"),s["\u0275\u0275text"](7,"Date Vente"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"th"),s["\u0275\u0275text"](9,"Client"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"th"),s["\u0275\u0275text"](11,"Nbre de produits"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"th"),s["\u0275\u0275text"](13,"Montant Devis"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"th"),s["\u0275\u0275text"](15,"Auteur"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"th"),s["\u0275\u0275text"](17,"Voir Plus"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"tbody"),s["\u0275\u0275template"](19,S,20,11,"tr",28),s["\u0275\u0275pipe"](20,"slice"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"ngb-pagination",29),s["\u0275\u0275listener"]("pageChange",function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().page=t}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind3"](20,8,e.sales,(e.page-1)*e.pageSize,e.page*e.pageSize)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("collectionSize",e.sales.length)("page",e.page)("pageSize",e.pageSize)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}const b=[{path:"",component:(()=>{class e{constructor(e,t,n,i,a){this.saleService=e,this.locStorService=t,this.route=n,this.router=i,this.libraryService=a,this.visible=!0,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.DefaultDateOne=new Date,this.DefaultDateTwo=new Date,this.pageSize=30,this.page=1,this.sales=[],this.isCreateVisible=!1,this.isLoading=!1,this.isPrinting=!1,this.isSalesListPdfVisible=!1,this.generatedSalesListPdf="",this.param=new l.a,this.pageStartIndex=0,this.limitTable=[],this.pageLimit=0}ngOnInit(){this.user=this.locStorService.getUser(),this.param.agent=this.user,this.getDevis(),this.limitTable=this.libraryService.getPaginatorLimitList(),this.pageLimit=this.libraryService.getPaginatorDefaultLimit()}getDevis(){this.isLoading=!0,this.sales=[],this.saleService.getDevis(this.user).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.sales=e.filter(e=>!1===e.is_balanced)},e=>{this.isLoading=!1})}searchData(e){this.param.startDate=e.dateStart,this.param.endDate=e.dateEnd,this.isLoading=!0,this.sales=[],this.saleService.searchDevis(this.param).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.sales=e.filter(e=>!1===e.is_balanced)},e=>{this.isLoading=!1})}printData(){this.isPrinting=!0,this.saleService.printSales(this.param).then(e=>{this.isPrinting=!1,this.isSalesListPdfVisible=!0,null!=e&&(this.generatedSalesListPdf=e.filename)},e=>{this.isPrinting=!1})}updateOnPdfClose(e){this.isSalesListPdfVisible=e}trackByFn(e,t){return t.id}viewDetails(e){this.selectedUpObject=e,this.visible=!1}updateOnClosed(e){this.visible=!0}hideForm(){this.router.navigate(["/app/sales_main"])}getCustomer(e){let t="";return t=null!=e&&null!==e.nom&&null!==e.prenom?e.nom+" "+e.prenom+" ("+e.telephone+")":null!=e&&null!==e.social_reason?e.social_reason+" ("+e.telephone+")":"ANONYME",t}getSeller(e){let t="";return t=null!=e.user&&void 0!==e.user.lastname&&void 0!==e.user.firstname?e.user.lastname+" "+e.user.firstname:"",t}getSelectedDateStart(e){this.param.startDate=e}getSelectedDateEnd(e){this.param.endDate=e}paginate(e){this.pageStartIndex=e.first,this.pageLimit=e.rows}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](r.f),s["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-list-devis"]],inputs:{subject:"subject"},decls:24,vars:7,consts:[[3,"options","customHeader"],[1,"app-card-header"],["role","form"],["userForm","ngForm"],[1,"row"],[1,"form-group","mb-0","input-group","col-sm-4"],[1,"input-group-append"],[1,"btn","btn-primary","font-weight-bold","btn-sm"],["type","date","name","dateStart","id","dateStart",1,"pl-2","form-control",3,"ngModel","ngModelChange"],["dateStart","ngModel"],["type","date","name","dateEnd","id","dateEnd",1,"pl-2","form-control",3,"ngModel","ngModelChange"],["dateEnd","ngModel"],["type","submit",1,"col-sm-2"],[1,"btn","btn-success","float-right",3,"click"],[1,"fa","fa-search"],["class","row d-flex justify-content-center mb-5","style","margin-bottom: 10em;",4,"ngIf"],["class","table-responsive table-bordered",4,"ngIf"],[1,"row","d-flex","justify-content-center","mb-5",2,"margin-bottom","10em"],[1,"col-md-12","text-center","p-0"],[1,"p-20","pb-3"],[1,"risk-rate"],["src","assets/images/params/spinner.gif","alt","","width","15%"],[1,"text-muted","h3","mb-5"],["src","assets/images/params/liste_vide.png","alt","","width","15%"],[1,"table-responsive","table-bordered"],["id","report-table",1,"table","mb-0"],[1,"thead-light"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"float-right","mt-2",3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"align-middle","p-0"],[1,"align-middle","p-0","pt-1","pb-1"],[1,"btn","btn-icon","btn-outline-info",3,"click"],[1,"fa","fa-folder-open","p-0"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"app-card",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"form",2,3),s["\u0275\u0275elementStart"](4,"div",4),s["\u0275\u0275elementStart"](5,"div",5),s["\u0275\u0275elementStart"](6,"div",6),s["\u0275\u0275elementStart"](7,"button",7),s["\u0275\u0275text"](8,"DE"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"input",8,9),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.DefaultDateOne=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",5),s["\u0275\u0275elementStart"](12,"div",6),s["\u0275\u0275elementStart"](13,"button",7),s["\u0275\u0275text"](14,"\xc0"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"input",10,11),s["\u0275\u0275listener"]("ngModelChange",function(e){return t.DefaultDateTwo=e}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",12),s["\u0275\u0275elementStart"](18,"button",13),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](3);return t.searchData(n.value)}),s["\u0275\u0275element"](19,"span",14),s["\u0275\u0275text"](20," Rechercher"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](21,h,7,0,"div",15),s["\u0275\u0275template"](22,f,7,0,"div",15),s["\u0275\u0275template"](23,v,22,12,"div",16),s["\u0275\u0275elementEnd"]()}2&e&&(s["\u0275\u0275property"]("options",!1)("customHeader",!0),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngModel",t.DefaultDateOne),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.DefaultDateTwo),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",t.isLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.noData&&!t.isLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.isLoading&&!t.noData))},directives:[p.a,c["\u0275angular_packages_forms_forms_y"],c.NgControlStatusGroup,c.NgForm,c.DefaultValueAccessor,c.NgControlStatus,c.NgModel,i.l,i.k,u.m],pipes:[i.r,i.d,g.a],styles:[""]}),e})()}];let E=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.j.forChild(b)],r.j]}),e})(),x=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[i.b,E,a.a]]}),e})()}}]);