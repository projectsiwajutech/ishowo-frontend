(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"+PR4":function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},LsRi:function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},SQ0T:function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},Z3Nc:function(e,t,n){"use strict";n.r(t),n.d(t,"SeuilStockModule",function(){return Y});var r=n("ofXK"),i=n("ebz3"),a=n("tyNb"),o=n("mrSG"),s=n("PdH4"),l=n.n(s),d=n("+PR4"),m=n("u8Yb"),c=n("fxYm"),u=n("BSRH");class p{constructor(){this.id=0,this.id_product=0,this.product=new u.a,this.produit_measure_type=new c.a}}var g=n("fXoL"),h=n("TM25"),f=n("hmux"),S=n("uGHp"),v=n("kwXE"),y=n("1kSV"),E=n("3Pt+");function b(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",32),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;g["\u0275\u0275property"]("ngValue",e),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function x(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"small",33),g["\u0275\u0275text"](1," Cat\xe9gorie du produit non indiqu\xe9"),g["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"option",34),g["\u0275\u0275listener"]("mouseover",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().updateMeasTypOnProd()}),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;g["\u0275\u0275property"]("ngValue",e),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function w(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"small",33),g["\u0275\u0275text"](1," Veuillez s\xe9lectionnez un produit!"),g["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",32),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;g["\u0275\u0275property"]("ngValue",e),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function _(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"small",33),g["\u0275\u0275text"](1," Type de mesure non indiqu\xe9"),g["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"small",33),g["\u0275\u0275text"](1," Quantit\xe9 Invalide"),g["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275element"](1,"i",35),g["\u0275\u0275text"](2," Enregistrer"),g["\u0275\u0275elementEnd"]())}function V(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),g["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&g["\u0275\u0275element"](0,"span",36)}let T=(()=>{class e{constructor(e,t,n,r,i,a){this.productService=e,this.categoryService=t,this.stockLimitService=n,this.locStorService=r,this.activeModal=i,this.router=a,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.created=new g.EventEmitter}ngOnInit(){this.item=new p,this.user=this.locStorService.getUser(),this.getProducts(),this.getCategories()}updateProdOnCat(){this.products=this.allProducts.filter(e=>e.category.id===this.selectedCategory.id),this.updateMeasTypOnProd()}updateMeasTypOnProd(){this.measureTypes=[],this.item.product.measure_types.filter(e=>this.measureTypes.push(e.measure_type)),document.getElementById("mestyp").focus()}updateQuantityOnTypeMes(){document.getElementById("quant").focus()}save(e){this.show=!0,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.item.agent=this.user,this.stockLimitService.createStockLimit(this.item).then(e=>{this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.show=!1,this.activeModal.close(),this.successSwal()})}getProducts(){this.products=[],this.productService.getProducts(this.user).then(e=>{this.allProducts=e,this.products=e},e=>{})}getCategories(){this.categories=[],this.categoryService.getCategories(this.user).then(e=>{this.categories=e},e=>{})}successSwal(){l.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){l.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.created.emit("created"),this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](h.a),g["\u0275\u0275directiveInject"](f.a),g["\u0275\u0275directiveInject"](S.a),g["\u0275\u0275directiveInject"](v.a),g["\u0275\u0275directiveInject"](y.a),g["\u0275\u0275directiveInject"](a.f))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-seuil-stock-create"]],inputs:{subject:"subject"},outputs:{created:"created"},decls:55,vars:15,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],["userForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"form-group"],["for","vdfd"],["name","category","required","",1,"form-control",3,"ngModel","ngModelChange","focus","change"],["category","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","error_msg text-danger font-italic",4,"ngIf"],["id","prod","name","prod","required","",1,"form-control",3,"ngModel","ngModelChange","focus","change","mouseover"],["prod","ngModel"],["ngValue","","disabled","","selected","",2,"background-color","#c1c1c1"],[3,"ngValue","mouseover",4,"ngFor","ngForOf"],["id","mestyp","name","meastyp","required","",1,"form-control",3,"ngModel","focus","change","ngModelChange"],["meastyp","ngModel"],[1,"row","d-flex","justify-content-center","pb-3","pt-2"],[1,"col-md-4"],["type","number","id","quant","maxlength","5","name","quant","placeholder","Quantit\xe9","required","",1,"form-control",3,"ngModel","ngModelChange"],["quant",""],[1,"app-modal-footer","row","pt-3"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[3,"ngValue"],[1,"error_msg","text-danger","font-italic"],[3,"ngValue","mouseover"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275element"](0,"div",null,0),g["\u0275\u0275elementStart"](2,"div",1),g["\u0275\u0275elementStart"](3,"h5",2),g["\u0275\u0275text"](4,"Nouvelle D\xe9finition de seuil de Stock"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"button",3),g["\u0275\u0275listener"]("click",function(){return t.close()}),g["\u0275\u0275elementStart"](6,"span",4),g["\u0275\u0275text"](7,"\xd7"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"div",5),g["\u0275\u0275elementStart"](9,"form",6,7),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](10);return t.save(n.value)}),g["\u0275\u0275elementStart"](11,"div",8),g["\u0275\u0275elementStart"](12,"div",9),g["\u0275\u0275elementStart"](13,"div",10),g["\u0275\u0275elementStart"](14,"label",11),g["\u0275\u0275text"](15,"Cat\xe9gorie"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"select",12,13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedCategory=e})("focus",function(){return t.updateProdOnCat()})("change",function(){return t.updateProdOnCat()}),g["\u0275\u0275template"](18,b,2,2,"option",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](19,x,2,0,"small",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",9),g["\u0275\u0275elementStart"](21,"div",10),g["\u0275\u0275elementStart"](22,"label",11),g["\u0275\u0275text"](23,"Produit"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"select",16,17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.product=e})("focus",function(){return t.updateMeasTypOnProd()})("change",function(){return t.updateMeasTypOnProd()})("mouseover",function(){return t.updateMeasTypOnProd()}),g["\u0275\u0275elementStart"](26,"option",18),g["\u0275\u0275text"](27,"Veuillez choisir un produit"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](28,M,2,2,"option",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](29,w,2,0,"small",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"div",9),g["\u0275\u0275elementStart"](31,"div",10),g["\u0275\u0275elementStart"](32,"label",11),g["\u0275\u0275text"](33,"Type de Mesure"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"select",20,21),g["\u0275\u0275listener"]("focus",function(){return t.updateQuantityOnTypeMes()})("change",function(){return t.updateQuantityOnTypeMes()})("ngModelChange",function(e){return t.item.produit_measure_type.measure_type=e}),g["\u0275\u0275elementStart"](36,"option",18),g["\u0275\u0275text"](37,"Veuillez choisir un type de mesure"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](38,C,2,2,"option",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](39,_,2,0,"small",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"div",22),g["\u0275\u0275elementStart"](41,"div",23),g["\u0275\u0275elementStart"](42,"label",11),g["\u0275\u0275text"](43,"Quantit\xe9 Critique"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"input",24,25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.quantity=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](46,k,2,0,"small",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](47,"div",26),g["\u0275\u0275elementStart"](48,"button",27),g["\u0275\u0275listener"]("click",function(){return t.close()}),g["\u0275\u0275element"](49,"i",28),g["\u0275\u0275text"](50,"\xa0 Annuler"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"button",29),g["\u0275\u0275template"](52,I,3,0,"span",30),g["\u0275\u0275template"](53,V,2,0,"span",30),g["\u0275\u0275template"](54,L,1,0,"span",31),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](10),n=g["\u0275\u0275reference"](17),r=g["\u0275\u0275reference"](25),i=g["\u0275\u0275reference"](35),a=g["\u0275\u0275reference"](45);g["\u0275\u0275advance"](16),g["\u0275\u0275property"]("ngModel",t.selectedCategory),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.categories),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t.item.product),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngForOf",t.products),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",r.dirty&&r.hasError("required")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t.item.produit_measure_type.measure_type),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngForOf",t.measureTypes),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t.item.quantity),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",a.dirty&&a.hasError("required")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("disabled",!e.valid||t.show),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.show),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.show),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.show)}},directives:[E["\u0275angular_packages_forms_forms_y"],E.NgControlStatusGroup,E.NgForm,E.SelectControlValueAccessor,E.RequiredValidator,E.NgControlStatus,E.NgModel,r.k,r.l,E.NgSelectOption,E["\u0275angular_packages_forms_forms_x"],E.NumberValueAccessor,E.DefaultValueAccessor,E.MaxLengthValidator],styles:[""]}),e})();function O(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"small",30),g["\u0275\u0275text"](1," Quantit\xe9 Invalide"),g["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275element"](1,"i",31),g["\u0275\u0275text"](2," Enregistrer"),g["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),g["\u0275\u0275elementEnd"]())}function q(e,t){1&e&&g["\u0275\u0275element"](0,"span",32)}let z=(()=>{class e{constructor(e,t,n,r){this.stockLimitService=e,this.locStorService=t,this.activeModal=n,this.router=r,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.created=new g.EventEmitter}ngOnInit(){this.user=this.locStorService.getUser()}updateProdOnCat(){this.products=this.allProducts.filter(e=>e.category.id===this.selectedCategory.id),this.updateMeasTypOnProd()}updateMeasTypOnProd(){this.measureTypes=[],this.item.product.measure_types.filter(e=>this.measureTypes.push(e.measure_type)),document.getElementById("mestyp").focus()}updateQuantityOnTypeMes(){document.getElementById("quant").focus()}save(e){this.show=!0,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.item.agent=this.user,this.stockLimitService.updateStockLimit(this.item).then(e=>{this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.show=!1,this.activeModal.close(),this.successSwal()})}successSwal(){l.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){l.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.created.emit("created"),this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](S.a),g["\u0275\u0275directiveInject"](v.a),g["\u0275\u0275directiveInject"](y.a),g["\u0275\u0275directiveInject"](a.f))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-seuil-stock-update"]],inputs:{subject:"subject"},outputs:{created:"created"},decls:51,vars:15,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],["userForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"form-group"],["for","vdfd"],["name","category","required","",1,"form-control",3,"ngModel","ngModelChange"],["category","ngModel"],["selected","",3,"ngValue"],["id","prod","name","prod","required","",1,"form-control",3,"ngModel","ngModelChange"],["prod","ngModel"],["id","mestyp","name","meastyp","required","",1,"form-control",3,"ngModel","ngModelChange"],["meastyp","ngModel"],[1,"row","d-flex","justify-content-center","pb-3","pt-2"],[1,"col-md-4"],["type","number","id","quant","maxlength","5","name","quant","placeholder","Quantit\xe9","required","",1,"form-control",3,"ngModel","ngModelChange"],["quant",""],["class","error_msg text-danger font-italic",4,"ngIf"],[1,"app-modal-footer","row","pt-3"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"error_msg","text-danger","font-italic"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275element"](0,"div",null,0),g["\u0275\u0275elementStart"](2,"div",1),g["\u0275\u0275elementStart"](3,"h5",2),g["\u0275\u0275text"](4,"Mis \xe0 jour du seuil de Stock"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"button",3),g["\u0275\u0275listener"]("click",function(){return t.close()}),g["\u0275\u0275elementStart"](6,"span",4),g["\u0275\u0275text"](7,"\xd7"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"div",5),g["\u0275\u0275elementStart"](9,"form",6,7),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](10);return t.save(n.value)}),g["\u0275\u0275elementStart"](11,"div",8),g["\u0275\u0275elementStart"](12,"div",9),g["\u0275\u0275elementStart"](13,"div",10),g["\u0275\u0275elementStart"](14,"label",11),g["\u0275\u0275text"](15,"Cat\xe9gorie"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"select",12,13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.product.category=e}),g["\u0275\u0275elementStart"](18,"option",14),g["\u0275\u0275text"](19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",9),g["\u0275\u0275elementStart"](21,"div",10),g["\u0275\u0275elementStart"](22,"label",11),g["\u0275\u0275text"](23,"Produit"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"select",15,16),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.produit_measure_type.product=e}),g["\u0275\u0275elementStart"](26,"option",14),g["\u0275\u0275text"](27),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"div",9),g["\u0275\u0275elementStart"](29,"div",10),g["\u0275\u0275elementStart"](30,"label",11),g["\u0275\u0275text"](31,"Type de Mesure"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"select",17,18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.produit_measure_type.measure_type=e}),g["\u0275\u0275elementStart"](34,"option",14),g["\u0275\u0275text"](35),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"div",19),g["\u0275\u0275elementStart"](37,"div",20),g["\u0275\u0275elementStart"](38,"label",11),g["\u0275\u0275text"](39,"Quantit\xe9 Critique"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"input",21,22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.quantity=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](42,O,2,0,"small",23),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"div",24),g["\u0275\u0275elementStart"](44,"button",25),g["\u0275\u0275listener"]("click",function(){return t.close()}),g["\u0275\u0275element"](45,"i",26),g["\u0275\u0275text"](46,"\xa0 Annuler"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](47,"button",27),g["\u0275\u0275template"](48,P,3,0,"span",28),g["\u0275\u0275template"](49,j,2,0,"span",28),g["\u0275\u0275template"](50,q,1,0,"span",29),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](10),n=g["\u0275\u0275reference"](41);g["\u0275\u0275advance"](16),g["\u0275\u0275property"]("ngModel",t.item.product.category),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",t.item.product.category),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](t.item.product.category.name),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t.item.produit_measure_type.product),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",t.item.produit_measure_type.product),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](t.item.produit_measure_type.product.name),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t.item.produit_measure_type.measure_type),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",t.item.produit_measure_type.measure_type),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](t.item.produit_measure_type.measure_type.name),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t.item.quantity),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("disabled",!e.valid||t.show),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.show),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.show),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.show)}},directives:[E["\u0275angular_packages_forms_forms_y"],E.NgControlStatusGroup,E.NgForm,E.SelectControlValueAccessor,E.RequiredValidator,E.NgControlStatus,E.NgModel,E.NgSelectOption,E["\u0275angular_packages_forms_forms_x"],E.NumberValueAccessor,E.DefaultValueAccessor,E.MaxLengthValidator,r.l],styles:[""]}),e})();var F=n("2IxJ"),N=n("gren"),B=n("6mAB"),A=n("/n7v");let Q=(()=>{class e{transform(e,t,n){return e&&(t||n)?e.filter(e=>e.product.name.toLowerCase().indexOf(t.toLowerCase())>=0&&(void 0===n||0===n||e.produit_measure_type.measure_type.id===n)):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=g["\u0275\u0275definePipe"]({name:"stockLimit",type:e,pure:!0}),e})();function R(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",18),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;g["\u0275\u0275property"]("ngValue",e),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function D(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",19),g["\u0275\u0275elementStart"](1,"div",20),g["\u0275\u0275elementStart"](2,"div",21),g["\u0275\u0275elementStart"](3,"div",22),g["\u0275\u0275element"](4,"img",23),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"p",24),g["\u0275\u0275text"](6,"Veuillez Patientez..."),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",19),g["\u0275\u0275elementStart"](1,"div",20),g["\u0275\u0275elementStart"](2,"div",21),g["\u0275\u0275elementStart"](3,"div",22),g["\u0275\u0275element"](4,"img",25),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"p",24),g["\u0275\u0275text"](6,"Aucun r\xe9sultat trouv\xe9 !"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"tr",29),g["\u0275\u0275elementStart"](1,"td",33),g["\u0275\u0275text"](2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"td",30),g["\u0275\u0275text"](4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"td"),g["\u0275\u0275text"](6),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"td"),g["\u0275\u0275text"](8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"td",34),g["\u0275\u0275text"](10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td",35),g["\u0275\u0275elementStart"](12,"a",36),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=t.$implicit;return g["\u0275\u0275nextContext"](2).updateModal(n)}),g["\u0275\u0275element"](13,"i",37),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"a",38),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=t.$implicit;return g["\u0275\u0275nextContext"](2).confirmProdRemoveModal(n)}),g["\u0275\u0275element"](15,"i",39),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",n+1," "),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](e.product.name),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](e.product.category.name),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](e.produit_measure_type.measure_type.name),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](e.quantity),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("placement","top"),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("placement","top")}}function H(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",26),g["\u0275\u0275elementStart"](1,"table",27),g["\u0275\u0275elementStart"](2,"thead",28),g["\u0275\u0275elementStart"](3,"tr",29),g["\u0275\u0275elementStart"](4,"th"),g["\u0275\u0275text"](5,"#"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"th",30),g["\u0275\u0275text"](7,"Produit"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9,"Cat\xe9gorie"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"th"),g["\u0275\u0275text"](11,"Unit\xe9 DE Mesure"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](12,"th",29),g["\u0275\u0275text"](13,"Stock Limit"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15,"Actions"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"tbody"),g["\u0275\u0275template"](17,$,16,7,"tr",31),g["\u0275\u0275pipe"](18,"slice"),g["\u0275\u0275pipe"](19,"stockLimit"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"ngb-pagination",32),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().page=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](17),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pipeBind3"](18,8,g["\u0275\u0275pipeBind3"](19,12,e.stockLimit,e.param.product,e.param.measure_type.id),(e.page-1)*e.pageSize,e.page*e.pageSize)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("collectionSize",e.stockLimit.length)("page",e.page)("pageSize",e.pageSize)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}const G=function(){return["/stocks/main"]},J=[{path:"",component:(()=>{class e{constructor(e,t,n,r,i,a,o){this.stockLimitService=e,this.modalService=t,this.measureTypeService=n,this.ngxService=r,this.locStorService=i,this.libraryService=a,this.route=o,this.stockLimit=[],this.page=1,this.pageSize=30,this.isCreateVisible=!1,this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.isLoading=!1,this.param=new m.a}ngOnInit(){this.user=this.locStorService.getUser(),this.getStockLimit(),this.getMeasureTypes()}getStockLimit(){this.isLoading=!0,this.stockLimit=[],this.stockLimitService.getStockLimit(this.user).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.stockLimit=e},e=>{this.isLoading=!1})}getMeasureTypes(){this.measureTypes=[],this.measureTypeService.getMeasureTypes(this.user).then(e=>{let t=new d.a;t.id=0,t.name="Tous",this.measureTypes.push(t),e.filter(e=>this.measureTypes.push(e))},e=>{})}createModal(){this.modalService.open(T,{size:"xl"}).componentInstance.created.subscribe(e=>{})}updateModal(e){this.modalService.open(z,{size:"xl"}).componentInstance.item=e}deleteStoklimit(e){this.ngxService.start(),this.isDeleting=!0,this.isCompleted=!1,this.stockLimitService.deleteStockLimit(e.id).then(e=>{this.ngxService.stop(),this.getStockLimit(),this.libraryService.onSuccess("Suppression r\xe9ussie",1200,"top-end")},e=>{this.ngxService.stop(),this.libraryService.onError("Une erreur est survenue au cours de la suppression",1500,"top")})}confirmProdRemoveModal(e){return Object(o.a)(this,void 0,void 0,function*(){yield l.a.fire({customClass:{container:"myCustomSwal",confirmButton:"btn btn-danger"},text:`Confirmez-vous la suppression du seuil de stock du produit: ${e.product.name} | Type de mesure ${e.produit_measure_type.measure_type.name} ?`,icon:"warning",imageHeight:100,imageWidth:100,showCancelButton:!0,cancelButtonText:"Annuler",confirmButtonText:"Oui, Je Confirme",reverseButtons:!0,buttonsStyling:!0}).then(t=>{t.isConfirmed&&this.deleteStoklimit(e)})})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](S.a),g["\u0275\u0275directiveInject"](y.j),g["\u0275\u0275directiveInject"](F.a),g["\u0275\u0275directiveInject"](N.b),g["\u0275\u0275directiveInject"](v.a),g["\u0275\u0275directiveInject"](B.a),g["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-seuil-stock-list"]],decls:25,vars:10,consts:[[3,"options","customHeader"],[1,"app-card-header"],["role","form"],["userForm","ngForm"],[1,"row"],[1,"form-group","mb-0","input-group","col-sm-5"],[1,"input-group-append"],[1,"btn","btn-info","font-weight-bold","btn-sm"],["type","text","maxlength","30","name","product","placeholder","Nom du produit",1,"form-control","pl-2",3,"ngModel","ngModelChange","keydown.enter"],["name","measure_type",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","mb-0","col-sm-2"],[1,"btn","btn-light","font-weight-bold",3,"routerLink"],[1,"fas","fa-chevron-circle-left"],["class","row d-flex justify-content-center mb-5","style","margin-bottom: 10em;",4,"ngIf"],["class","table-responsive table-bordered table-hover",4,"ngIf"],[1,"btn","btn-primary","text-center","btn-sm","btn-round","has-ripple","float",3,"click"],[1,"feather","icon-plus","my-float","text-center","pb-3"],[3,"ngValue"],[1,"row","d-flex","justify-content-center","mb-5",2,"margin-bottom","10em"],[1,"col-md-12","text-center","p-0"],[1,"p-20","pb-3"],[1,"risk-rate"],["src","assets/images/params/spinner.gif","alt","","width","15%"],[1,"text-muted","h3","mb-5"],["src","assets/images/params/liste_vide.png","alt","","width","15%"],[1,"table-responsive","table-bordered","table-hover"],["id","report-table",1,"table","mb-0"],[1,"thead-light"],[1,"text-center"],[1,"text-left"],["class","text-center",4,"ngFor","ngForOf"],[1,"float-right","mt-2",3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"align-middle","p-0"],[1,"text-center","font-weight-bold","text-primary"],[1,"align-middle","p-0","pt-1","pb-1"],["ngbTooltip","Mis \xe0 Jour",1,"btn","btn-icon","btn-outline-success","mr-2",3,"placement","click"],[1,"fa","fa-edit"],["ngbTooltip","Supprimer",1,"btn","btn-icon","btn-outline-danger",3,"placement","click"],[1,"fa","fa-times"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"app-card",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"form",2,3),g["\u0275\u0275elementStart"](4,"div",4),g["\u0275\u0275elementStart"](5,"div",5),g["\u0275\u0275elementStart"](6,"div",6),g["\u0275\u0275elementStart"](7,"button",7),g["\u0275\u0275text"](8,"Produit"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",8),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.param.product=e})("keydown.enter",function(){return 0}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",5),g["\u0275\u0275elementStart"](11,"div",6),g["\u0275\u0275elementStart"](12,"button",7),g["\u0275\u0275text"](13,"T.Mesure"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"select",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.param.measure_type=e}),g["\u0275\u0275template"](15,R,2,2,"option",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"div",11),g["\u0275\u0275elementStart"](17,"button",12),g["\u0275\u0275element"](18,"span",13),g["\u0275\u0275text"](19," RETOUR"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,D,7,0,"div",14),g["\u0275\u0275template"](21,U,7,0,"div",14),g["\u0275\u0275template"](22,H,21,16,"div",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"button",16),g["\u0275\u0275listener"]("click",function(){return t.createModal()}),g["\u0275\u0275element"](24,"i",17),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("options",!1)("customHeader",!0),g["\u0275\u0275advance"](9),g["\u0275\u0275property"]("ngModel",t.param.product),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t.param.measure_type),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.measureTypes),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("routerLink",g["\u0275\u0275pureFunction0"](9,G)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.isLoading),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.noData&&!t.isLoading),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.isLoading&&!t.noData))},directives:[A.a,E["\u0275angular_packages_forms_forms_y"],E.NgControlStatusGroup,E.NgForm,E.DefaultValueAccessor,E.MaxLengthValidator,E.NgControlStatus,E.NgModel,E.SelectControlValueAccessor,r.k,a.g,r.l,E.NgSelectOption,E["\u0275angular_packages_forms_forms_x"],y.m,y.t],pipes:[r.r,Q],styles:[""]}),e})()}];let X=(()=>{class e{}return e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.j.forChild(J)],a.j]}),e})(),Y=(()=>{class e{}return e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.b,X,i.a]]}),e})()},iHma:function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{}},u8Yb:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("SQ0T"),i=n("iHma"),a=n("+PR4"),o=n("LsRi");class s{constructor(){this.product="",this.location=new r.a,this.agency=new o.a,this.category=new i.a,this.measure_type=new a.a,this.codebarre="",this.source=new r.a,this.destination=new r.a}}}}]);