(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{DUuj:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersModule",function(){return G});var i=n("ofXK"),r=n("tyNb"),a=n("fXoL"),s=n("F5dr"),l=(n("QVta"),n("PdH4")),o=n.n(l),d=n("1kSV"),m=n("biaL"),c=n("kwXE"),u=n("6mAB"),h=n("3Pt+"),p=n("904P");function g(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",42),a["\u0275\u0275text"](1,"Nom manquant"),a["\u0275\u0275elementEnd"]())}function f(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",42),a["\u0275\u0275text"](1,"Pr\xe9nom manquant"),a["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",43),a["\u0275\u0275text"](1,"Num\xe9ro Invalide!"),a["\u0275\u0275elementEnd"]())}function S(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",42),a["\u0275\u0275text"](1,"Adresse manquante"),a["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",44),a["\u0275\u0275text"](2," Enregistrer"),a["\u0275\u0275elementEnd"]())}function b(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),a["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&a["\u0275\u0275element"](0,"span",45)}const x=function(e){return{mask:e}};let M=(()=>{class e{constructor(e,t,n,i,r,s){this.router=e,this.activeModal=t,this.userService=n,this.locStorService=i,this.route=r,this.libraryService=s,this.Indicatif="+229",this.Indicatif1="+229",this.Indicatif2="+228",this.phoneValid=!0,this.show=!1,this.visible=!1,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.created=new a.EventEmitter,this.maskMobileNo=[/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/]}ngOnInit(){this.onLoadFocus(),this.item=new s.a,this.user=this.locStorService.getUser()}save(e){this.show=!0,this.item.agent=this.user,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.item.phone=e.indicatif+" "+e.phone,this.userService.createAgent(this.item).then(e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=new s.a,this.created.emit("created"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.visible=!0}checkPhoneNumber(e){this.phoneValid=!1;let t=0,n=e.indexOf("_");for(;-1!=n;)t++,n=e.indexOf("_",n+1);if(t>0||""===e)this.phoneValid=!1;else{let t=e.replaceAll("-","").replaceAll(" ","");switch(this.libraryService.checkPhoneNumber(t)){case!0:return this.phoneValid=!0;case!1:default:return this.phoneValid=!1}}}successSwal(){o.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){o.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.created.emit("created"),this.activeModal.close()}onLoadFocus(){document.getElementById("user_name").focus()}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](r.f),a["\u0275\u0275directiveInject"](d.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](c.a),a["\u0275\u0275directiveInject"](r.a),a["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-create"]],inputs:{subject:"subject"},outputs:{created:"created"},decls:66,vars:19,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],["userForm","ngForm"],[1,"text-center"],["src","assets/images/params/users.jpg","width","60%","alt","",1,"rounded","mb-3"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],["for","b"],["type","text","id","user_name","maxlength","25","name","lastname","placeholder","Nom","required","",1,"form-control",3,"ngModel","ngModelChange"],["lastname","ngModel"],["class","error_msg text-danger font-italic",4,"ngIf"],[1,"col-sm-6"],["type","text","maxlength","25","name","firstname","placeholder","Pr\xe9noms","required","",1,"form-control",3,"ngModel","ngModelChange"],["firstname","ngModel"],["for","s"],[1,"form-group","input-group","mb-0","pb-0"],[1,"input-group-append"],["name","indicatif","id","indicatif","required","",1,"form-control",3,"ngModel","ngModelChange"],["indicatif","ngModel"],["selected","",3,"ngValue"],[3,"ngValue"],["type","text","maxlength","15","name","phone","placeholder","T\xe9l\xe9phone","required","",1,"form-control",3,"textMask","ngModel","keyup","ngModelChange"],["phone","ngModel"],["class","mb-1 error_msg text-danger font-italic",4,"ngIf"],["for","ss"],["type","text","maxlength","25","name","email","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","dd"],["type","text","maxlength","25","name","address","placeholder","Adresse","required","",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"error_msg","text-danger","font-italic"],[1,"mb-1","error_msg","text-danger","font-italic"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275element"](0,"div",null,0),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275elementStart"](3,"h5",2),a["\u0275\u0275text"](4,"Nouveau Utilisateur"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"button",3),a["\u0275\u0275listener"]("click",function(){return t.close()}),a["\u0275\u0275elementStart"](6,"span",4),a["\u0275\u0275text"](7,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"div",5),a["\u0275\u0275elementStart"](9,"form",6,7),a["\u0275\u0275listener"]("ngSubmit",function(){a["\u0275\u0275restoreView"](e);const n=a["\u0275\u0275reference"](10);return t.save(n.value)}),a["\u0275\u0275elementStart"](11,"div",8),a["\u0275\u0275element"](12,"img",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",10),a["\u0275\u0275elementStart"](14,"div",11),a["\u0275\u0275elementStart"](15,"div",12),a["\u0275\u0275elementStart"](16,"label",13),a["\u0275\u0275text"](17,"Nom"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"input",14,15),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.lastname=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](20,g,2,0,"small",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"div",17),a["\u0275\u0275elementStart"](23,"div",12),a["\u0275\u0275elementStart"](24,"label",13),a["\u0275\u0275text"](25,"Pr\xe9noms"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"input",18,19),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.firstname=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](28,f,2,0,"small",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",17),a["\u0275\u0275elementStart"](30,"label",20),a["\u0275\u0275text"](31,"T\xe9l\xe9phone"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",21),a["\u0275\u0275elementStart"](33,"div",22),a["\u0275\u0275elementStart"](34,"select",23,24),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.Indicatif=e}),a["\u0275\u0275elementStart"](36,"option",25),a["\u0275\u0275text"](37,"229"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"option",26),a["\u0275\u0275text"](39,"228"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"input",27,28),a["\u0275\u0275listener"]("keyup",function(){a["\u0275\u0275restoreView"](e);const n=a["\u0275\u0275reference"](10);return t.checkPhoneNumber(n.value.phone)})("ngModelChange",function(e){return t.item.phone=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](42,"br"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](43,v,2,0,"small",29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"div",10),a["\u0275\u0275elementStart"](45,"div",17),a["\u0275\u0275elementStart"](46,"div",12),a["\u0275\u0275elementStart"](47,"label",30),a["\u0275\u0275text"](48,"Adresse Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"input",31,32),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.email=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"div",17),a["\u0275\u0275elementStart"](52,"div",12),a["\u0275\u0275elementStart"](53,"label",33),a["\u0275\u0275text"](54,"Adresse"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"input",34,35),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.address=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](57,S,2,0,"small",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"div",36),a["\u0275\u0275elementStart"](59,"button",37),a["\u0275\u0275listener"]("click",function(){return t.close()}),a["\u0275\u0275element"](60,"i",38),a["\u0275\u0275text"](61,"\xa0 Annuler"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"button",39),a["\u0275\u0275template"](63,E,3,0,"span",40),a["\u0275\u0275template"](64,b,2,0,"span",40),a["\u0275\u0275template"](65,y,1,0,"span",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275reference"](10),n=a["\u0275\u0275reference"](19),i=a["\u0275\u0275reference"](27),r=a["\u0275\u0275reference"](56);a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("ngModel",t.item.lastname),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.item.firstname),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.Indicatif),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngValue",t.Indicatif1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngValue",t.Indicatif2),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("textMask",a["\u0275\u0275pureFunction1"](17,x,t.maskMobileNo))("ngModel",t.item.phone),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!t.phoneValid),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.item.email),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.item.address),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",r.dirty&&r.hasError("required")),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("disabled",!e.valid||t.show||!t.phoneValid),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.show),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.show),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.show)}},directives:[h["\u0275angular_packages_forms_forms_y"],h.NgControlStatusGroup,h.NgForm,h.DefaultValueAccessor,h.MaxLengthValidator,h.RequiredValidator,h.NgControlStatus,h.NgModel,i.l,h.SelectControlValueAccessor,h.NgSelectOption,h["\u0275angular_packages_forms_forms_x"],p.MaskedInputDirective],styles:[""]}),e})();function w(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",15),a["\u0275\u0275text"](2," Oui, je supprime"),a["\u0275\u0275elementEnd"]())}function C(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1," Patientez... \xa0"),a["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&a["\u0275\u0275element"](0,"span",16)}let k=(()=>{class e{constructor(e,t,n,i){this.router=e,this.activeModal=t,this.userService=n,this.route=i,this.show=!1,this.visible=!1,this.item=null,this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.deleted=new a.EventEmitter}ngOnInit(){}ngOnChanges(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1}delete(){this.show=!0,this.isDeleting=!0,this.isCompleted=!1,this.statusMessage="",this.userService.deleteAgent(this.item.id).then(e=>{this.isDeleting=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.deleted.emit("deleted"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isDeleting=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1}hideForm(){this.isDeleting=!1,this.isCompleted=!1,this.isSuccess=!1,this.item=null}successSwal(){o.a.fire({customClass:{container:"myCustomSwal"},title:"Suppression r\xe9ussie!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){o.a.fire("Echec de la Suppression!","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.deleted.emit("deleted"),this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](r.f),a["\u0275\u0275directiveInject"](d.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-delete"]],inputs:{item:"item",subject:"subject"},outputs:{deleted:"deleted"},features:[a["\u0275\u0275NgOnChangesFeature"]],decls:21,vars:4,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],["src","assets/images/params/delete.png","width","20%","alt","",1,"rounded","mb-3"],[1,"text-center","m-4"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-danger","col-sm-6",3,"disabled","click"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"fa","fa-trash","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"div",null,0),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275elementStart"](3,"h5",2),a["\u0275\u0275text"](4,"Suppresion d'Utilisateur"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"button",3),a["\u0275\u0275listener"]("click",function(){return t.close()}),a["\u0275\u0275elementStart"](6,"span",4),a["\u0275\u0275text"](7,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"div",5),a["\u0275\u0275elementStart"](9,"div",6),a["\u0275\u0275element"](10,"img",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"h5",8),a["\u0275\u0275text"](12," Confirmez-vous la suppression de cet Utilisateur ?"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",9),a["\u0275\u0275elementStart"](14,"button",10),a["\u0275\u0275listener"]("click",function(){return t.close()}),a["\u0275\u0275element"](15,"i",11),a["\u0275\u0275text"](16,"\xa0 Non"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"button",12),a["\u0275\u0275listener"]("click",function(){return t.delete()}),a["\u0275\u0275template"](18,w,3,0,"span",13),a["\u0275\u0275template"](19,C,2,0,"span",13),a["\u0275\u0275template"](20,I,1,0,"span",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("disabled",t.show),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.show),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.show),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.show))},directives:[i.l],styles:[""]}),e})();function V(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",42),a["\u0275\u0275text"](1,"Nom manquant"),a["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",42),a["\u0275\u0275text"](1," Pr\xe9nom manquant"),a["\u0275\u0275elementEnd"]())}function N(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",43),a["\u0275\u0275text"](1,"Num\xe9ro Invalide!"),a["\u0275\u0275elementEnd"]())}function _(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",42),a["\u0275\u0275text"](1,"Adresse manquante"),a["\u0275\u0275elementEnd"]())}function A(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275element"](1,"i",44),a["\u0275\u0275text"](2," Enregistrer"),a["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"Veuillez Patientez... \xa0"),a["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&a["\u0275\u0275element"](0,"span",45)}const q=function(e){return{mask:e}};let L=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.activeModal=t,this.userService=n,this.route=i,this.libraryService=r,this.show=!1,this.visible=!1,this.item=null,this.Indicatif="+229",this.Indicatif1="+229",this.Indicatif2="+228",this.phoneValid=!0,this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1,this.statusMessage="",this.updated=new a.EventEmitter,this.maskMobileNo=[/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/]}ngOnInit(){this.onLoadFocus(),this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1}ngOnChanges(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1}save(e){this.show=!0,this.isSaving=!0,this.isCompleted=!1,this.statusMessage="",this.item.phone=e.indicatif+" "+e.phone,this.userService.updateAgent(this.item).then(e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!0,this.visible=!1,this.item=null,this.updated.emit("updated"),this.show=!1,this.activeModal.close(),this.successSwal()},e=>{this.isSaving=!1,this.isCompleted=!0,this.isSuccess=!1,this.statusMessage="Une erreur est survenue. Veuillez r\xe9essayer",this.show=!1,this.activeModal.close(),this.errorSwal()})}showCreationForm(){this.isSaving=!1,this.isCompleted=!1,this.isSuccess=!1}checkPhoneNumber(e){this.phoneValid=!1;let t=0,n=e.indexOf("_");for(;-1!=n;)t++,n=e.indexOf("_",n+1);if(t>0||""===e)this.phoneValid=!1;else{let t=e.replaceAll("-","").replaceAll(" ","");switch(this.libraryService.checkPhoneNumber(t)){case!0:return this.phoneValid=!0;case!1:default:return this.phoneValid=!1}}}formatPhoneNumber(e){return this.libraryService.formatPhoneNumber(e)}successSwal(){o.a.fire({customClass:{container:"myCustomSwal"},title:"Enregistrement r\xe9ussi!",showConfirmButton:!1,icon:"success",timer:1100,timerProgressBar:!0});let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}errorSwal(){o.a.fire("Echec de l'Enregistrement","","error");let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}close(){this.updated.emit("updated"),this.activeModal.close()}onLoadFocus(){document.getElementById("user_name").focus()}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](r.f),a["\u0275\u0275directiveInject"](d.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](r.a),a["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-update"]],inputs:{item:"item",subject:"subject"},outputs:{updated:"updated"},features:[a["\u0275\u0275NgOnChangesFeature"]],decls:66,vars:19,consts:[["createModal",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-lab0el","Close",1,"close","basic-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["userForm","ngForm"],[1,"text-center"],["src","assets/images/params/users.jpg","width","60%","alt","",1,"rounded","mb-3"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],["for","b"],["type","text","id","user_name","maxlength","25","name","lastname","placeholder","Nom","required","",1,"form-control",3,"ngModel","ngModelChange"],["lastname","ngModel"],["class","error_msg text-danger font-italic",4,"ngIf"],[1,"col-sm-6"],["type","text","maxlength","25","name","firstname","placeholder","Pr\xe9noms","required","",1,"form-control",3,"ngModel","ngModelChange"],["firstname","ngModel"],["for","s"],[1,"form-group","input-group","mb-0","pb-0"],[1,"input-group-append"],["name","indicatif","id","indicatif","required","",1,"form-control",3,"ngModel","ngModelChange"],["indicatif","ngModel"],["selected","",3,"ngValue"],[3,"ngValue"],["type","text","maxlength","15","name","phone","placeholder","T\xe9l\xe9phone","required","",1,"form-control",3,"textMask","ngModel","keyup"],["phone","ngModel"],["class","mb-1 error_msg text-danger font-italic",4,"ngIf"],["for","ss"],["type","text","maxlength","25","name","email","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","dd"],["type","text","maxlength","25","name","address","placeholder","Adresse","required","",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],[1,"app-modal-footer","row"],["type","button","data-dismiss","modal",1,"btn","btn-light","col-sm-6",3,"click"],[1,"fa","fa-times","me-2","ms-n21"],["type","submit",1,"btn","btn-primary","col-sm-6",3,"disabled"],[4,"ngIf"],["class","spinner-border","role","status","style","width: 1.3rem; height: 1.3rem;",4,"ngIf"],[1,"error_msg","text-danger","font-italic"],[1,"mb-1","error_msg","text-danger","font-italic"],[1,"fa","fa-save","me-2","ms-n21"],["role","status",1,"spinner-border",2,"width","1.3rem","height","1.3rem"]],template:function(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275element"](0,"div",null,0),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275elementStart"](3,"h5",2),a["\u0275\u0275text"](4,"Mis \xe0 jour Utilisateur"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"button",3),a["\u0275\u0275listener"]("click",function(){return t.close()}),a["\u0275\u0275elementStart"](6,"span",4),a["\u0275\u0275text"](7,"\xd7"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"div",5),a["\u0275\u0275elementStart"](9,"form",6,7),a["\u0275\u0275listener"]("ngSubmit",function(){a["\u0275\u0275restoreView"](e);const n=a["\u0275\u0275reference"](10);return t.save(n.value)}),a["\u0275\u0275elementStart"](11,"div",8),a["\u0275\u0275element"](12,"img",9),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div",10),a["\u0275\u0275elementStart"](14,"div",11),a["\u0275\u0275elementStart"](15,"div",12),a["\u0275\u0275elementStart"](16,"label",13),a["\u0275\u0275text"](17,"Nom"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"input",14,15),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.lastname=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](20,V,2,0,"small",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",10),a["\u0275\u0275elementStart"](22,"div",17),a["\u0275\u0275elementStart"](23,"div",12),a["\u0275\u0275elementStart"](24,"label",13),a["\u0275\u0275text"](25,"Pr\xe9noms"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"input",18,19),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.firstname=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](28,j,2,0,"small",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](29,"div",17),a["\u0275\u0275elementStart"](30,"label",20),a["\u0275\u0275text"](31,"T\xe9l\xe9phone"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",21),a["\u0275\u0275elementStart"](33,"div",22),a["\u0275\u0275elementStart"](34,"select",23,24),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.Indicatif=e}),a["\u0275\u0275elementStart"](36,"option",25),a["\u0275\u0275text"](37,"229"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"option",26),a["\u0275\u0275text"](39,"228"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](40,"input",27,28),a["\u0275\u0275listener"]("keyup",function(){a["\u0275\u0275restoreView"](e);const n=a["\u0275\u0275reference"](10);return t.checkPhoneNumber(n.value.phone)}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](42,"br"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](43,N,2,0,"small",29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"div",10),a["\u0275\u0275elementStart"](45,"div",17),a["\u0275\u0275elementStart"](46,"div",12),a["\u0275\u0275elementStart"](47,"label",30),a["\u0275\u0275text"](48,"Adresse Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](49,"input",31,32),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.email=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](51,"div",17),a["\u0275\u0275elementStart"](52,"div",12),a["\u0275\u0275elementStart"](53,"label",33),a["\u0275\u0275text"](54,"Adresse"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"input",34,35),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.address=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](57,_,2,0,"small",16),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](58,"div",36),a["\u0275\u0275elementStart"](59,"button",37),a["\u0275\u0275listener"]("click",function(){return t.close()}),a["\u0275\u0275element"](60,"i",38),a["\u0275\u0275text"](61,"\xa0 Annuler"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"button",39),a["\u0275\u0275template"](63,A,3,0,"span",40),a["\u0275\u0275template"](64,F,2,0,"span",40),a["\u0275\u0275template"](65,P,1,0,"span",41),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275reference"](10),n=a["\u0275\u0275reference"](19),i=a["\u0275\u0275reference"](27),r=a["\u0275\u0275reference"](56);a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("ngModel",t.item.lastname),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",n.dirty&&n.hasError("required")),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.item.firstname),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.dirty&&i.hasError("required")),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.Indicatif),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngValue",t.Indicatif1),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngValue",t.Indicatif2),a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate"]("ngModel",t.formatPhoneNumber(t.item.phone)),a["\u0275\u0275property"]("textMask",a["\u0275\u0275pureFunction1"](17,q,t.maskMobileNo)),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",!t.phoneValid),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.item.email),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.item.address),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",r.dirty&&r.hasError("required")),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("disabled",!e.valid||t.show||!t.phoneValid),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.show),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.show),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.show)}},directives:[h["\u0275angular_packages_forms_forms_y"],h.NgControlStatusGroup,h.NgForm,h.DefaultValueAccessor,h.MaxLengthValidator,h.RequiredValidator,h.NgControlStatus,h.NgModel,i.l,h.SelectControlValueAccessor,h.NgSelectOption,h["\u0275angular_packages_forms_forms_x"],p.MaskedInputDirective],styles:[""]}),e})();var z=n("5KfZ"),B=n("/n7v");function O(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"div",9),a["\u0275\u0275elementStart"](2,"div",10),a["\u0275\u0275elementStart"](3,"div",11),a["\u0275\u0275element"](4,"img",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"p",13),a["\u0275\u0275text"](6,"Veuillez Patientez..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"div",9),a["\u0275\u0275elementStart"](2,"div",10),a["\u0275\u0275elementStart"](3,"div",11),a["\u0275\u0275element"](4,"img",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"p",13),a["\u0275\u0275text"](6,"Aucun r\xe9sultat trouv\xe9 !"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function D(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr",18),a["\u0275\u0275elementStart"](1,"td",21),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td",22),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td",22),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td",22),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td",22),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td",22),a["\u0275\u0275text"](12),a["\u0275\u0275pipe"](13,"date"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"td",23),a["\u0275\u0275elementStart"](15,"a",24),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](e);const n=t.$implicit;return a["\u0275\u0275nextContext"](2).updateModal(n)}),a["\u0275\u0275element"](16,"i",25),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"a",26),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](e);const n=t.$implicit;return a["\u0275\u0275nextContext"](2).deleteModal(n)}),a["\u0275\u0275element"](18,"i",27),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",n+1," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",e.lastname+" "+e.firstname," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",e.phone," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",e.email," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",e.address," "),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind4"](13,6,e.date_of_creation,"mediumDate","","fr")," ")}}function T(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",15),a["\u0275\u0275elementStart"](1,"table",16),a["\u0275\u0275elementStart"](2,"thead",17),a["\u0275\u0275elementStart"](3,"tr",18),a["\u0275\u0275elementStart"](4,"th"),a["\u0275\u0275text"](5,"#"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"th"),a["\u0275\u0275text"](7,"Identit\xe9"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"th"),a["\u0275\u0275text"](9,"T\xe9l\xe9phone"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"th"),a["\u0275\u0275text"](11,"Email"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th"),a["\u0275\u0275text"](13,"Adresse"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"th"),a["\u0275\u0275text"](15,"Cr\xe9e le"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"th"),a["\u0275\u0275text"](17,"Actions"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"tbody"),a["\u0275\u0275template"](19,D,19,11,"tr",19),a["\u0275\u0275pipe"](20,"slice"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"ngb-pagination",20),a["\u0275\u0275listener"]("pageChange",function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().page=t}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](19),a["\u0275\u0275property"]("ngForOf",a["\u0275\u0275pipeBind3"](20,9,e.agents,(e.page-1)*e.pageSize,e.page*e.pageSize))("ngForTrackBy",e.trackByFn),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("collectionSize",e.agents.length)("page",e.page)("pageSize",e.pageSize)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0)}}const H=[{path:"",component:(()=>{class e{constructor(e,t,n,i,r){this.modalService=e,this.constantService=t,this.userService=n,this.locStorService=i,this.route=r,this.agents=[],this.isCreateVisible=!1,this.isLoading=!1,this.page=1,this.pageSize=30}ngOnInit(){this.user=this.locStorService.getUser(),this.getUsers(),this.dtOptions=this.constantService.DtOptions}getUsers(){this.isLoading=!0,this.agents=[],this.userService.getAgents(this.user).then(e=>{this.isLoading=!1,this.noData=0===e.length,this.agents=e},e=>{this.isLoading=!1})}trackByFn(e,t){return t.id}createModal(){this.modalService.open(M).componentInstance.created.subscribe(e=>{})}deleteModal(e){this.modalService.open(k).componentInstance.item=e}updateModal(e){this.modalService.open(L).componentInstance.item=e}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](d.j),a["\u0275\u0275directiveInject"](z.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](c.a),a["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-users"]],decls:9,vars:4,consts:[[1,"row","btn-page"],[1,"col-sm-12"],["cardClass","card-datatable",3,"hidHeader"],[1,"row","align-items-center","m-l-0"],["class","row d-flex justify-content-center mb-5","style","margin-bottom: 10em;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"btn","btn-primary","text-center","btn-sm","btn-round","has-ripple","float",3,"click"],[1,"feather","icon-plus","my-float","text-center","pb-3"],[1,"row","d-flex","justify-content-center","mb-5",2,"margin-bottom","10em"],[1,"col-md-12","text-center","p-0"],[1,"p-20","pb-3"],[1,"risk-rate"],["src","assets/images/params/spinner.gif","alt","","width","15%"],[1,"text-muted","h3","mb-5"],["src","assets/images/params/liste_vide.png","alt","","width","15%"],[1,"table-responsive"],["id","report-table",1,"table","mb-0"],[1,"thead-light"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf","ngForTrackBy"],[1,"float-right","mt-2",3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"align-leftp-0"],[1,"align-middle","p-0"],[1,"align-middle","p-1"],[1,"btn","btn-icon","btn-outline-success",3,"click"],[1,"feather","icon-edit"],[1,"btn","btn-icon","btn-outline-danger",3,"click"],[1,"feather","icon-trash-2"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"app-card",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275template"](4,O,7,0,"div",4),a["\u0275\u0275template"](5,U,7,0,"div",4),a["\u0275\u0275template"](6,T,22,13,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"button",6),a["\u0275\u0275listener"]("click",function(){return t.createModal()}),a["\u0275\u0275element"](8,"i",7),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("hidHeader",!0),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.isLoading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.noData&&!t.isLoading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isLoading&&!t.noData))},directives:[B.a,i.l,i.k,d.m],pipes:[i.r,i.d],styles:[""]}),e})()}];let X=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.j.forChild(H)],r.j]}),e})();var $=n("ebz3");let G=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,X,$.a]]}),e})()}}]);