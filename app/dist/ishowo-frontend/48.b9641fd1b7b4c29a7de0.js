(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"M/6q":function(e,t,n){"use strict";n.r(t),n.d(t,"SignInModule",function(){return C});var i=n("ofXK"),r=n("3Pt+"),o=n("tyNb"),s=n("mrSG"),a=n("PdH4"),l=n.n(a),c=(n("MKA9"),n("4XzM"),n("Dy6s")),d=n("fXoL"),m=n("PQpq"),u=n("6mAB"),h=n("kwXE"),p=n("gren"),g=n("/n7v");function f(e,t){1&e&&d["\u0275\u0275element"](0,"span",25)}function v(e,t){1&e&&d["\u0275\u0275element"](0,"span",26)}const b=[{path:"",component:(()=>{class e{constructor(e,t,n,i,r){this.profilService=e,this.libraryService=t,this.locStorService=n,this.ngxService=i,this.router=r,this.loadingText="Veuillez patienter...",this.isUserOk=!1,this.isLoading=!1,this.refreshTic(),this.freshTic=window.setInterval(()=>this.refreshTic(),36e5)}ngOnInit(){this.item=new c.a,this.onLoadFocus()}signin(){this.ngxService.start(),this.isLoading=!0,this.profilService.login(this.item).then(e=>{if(this.isLoading=!1,null===e)return this.ngxService.stop(),void this.libraryService.onError("Vos param\xe8tres de connexion sont incorrects",2e3,"top-start");this.locStorService.saveUser(e),window.setTimeout(()=>{this.ngxService.stop(),this.router.navigate(["dashboard/main"])},100)},e=>(this.isLoading=!1,this.ngxService.stop(),400===e.status?void this.libraryService.onError(e._body,2e3,"top-start"):void this.libraryService.onError("Une erreur est survenue lors de la connexion",2e3,"top-start")))}refreshTic(){this.profilService.refreshTic(this.item).then(e=>{},e=>{})}NewLicence(){this.router.navigate(["auth/new-licence"])}ChangeLicence(){this.router.navigate(["auth/change-licence"])}checkMyLicence(){this.ngxService.start(),this.isCheckingProfile=!0,this.profilService.getUserByCode(this.codeCustomer).then(e=>{this.isCheckingProfile=!1,this.ngxService.stop(),null===e?l.a.fire({customClass:{container:"myCustomSwal"},icon:"error",title:"Veuillez v\xe9rifier votre code et r\xe9essayer"}).then(e=>{this.CustomerCodeModal()}):(this.locStorService.saveToSession("licence_user",e),this.isUserOk=!0,this.ChangeLicence())},e=>{this.isCheckingProfile=!1,this.ngxService.stop(),l.a.fire({customClass:{container:"myCustomSwal"},icon:"error",title:"Une erreur est survenue pendant la v\xe9rification de votre licence"})})}CustomerCodeModal(){return Object(s.a)(this,void 0,void 0,function*(){yield l.a.fire({customClass:{container:"myCustomSwal",confirmButton:"btn btn-primary"},title:"MISE A JOUR DE LICENCE",imageUrl:"assets/images/params/update_licence.png",imageHeight:100,imageWidth:100,showCancelButton:!0,input:"text",inputLabel:"Code Client",inputPlaceholder:"Veuillez saisir le code Client",inputAttributes:{maxlength:5,autocapitalize:"off",autocorrect:"off"},cancelButtonText:'<i class="feather icon-x-circle"></i> Annuler',confirmButtonText:'<i class="feather feather icon-refresh-cw"></i> V\xe9rifier',reverseButtons:!0,buttonsStyling:!0}).then(e=>{e.isConfirmed&&(this.codeCustomer=e.value,this.checkMyLicence())})})}showHidePass(){var e=document.getElementById("password");"password"===e.type?(e.type="text",this.showPass=!0):(e.type="password",this.showPass=!1)}onLoadFocus(){document.getElementById("login").focus()}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](u.a),d["\u0275\u0275directiveInject"](h.a),d["\u0275\u0275directiveInject"](p.b),d["\u0275\u0275directiveInject"](o.f))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-signin"]],decls:50,vars:6,consts:[[1,"auth-wrapper","align-items-stretch","aut-bg-img"],[1,"flex-grow-1"],[1,"h-100","d-md-flex","align-items-center","auth-side-img"],[1,"col-sm-10","auth-content","w-auto"],["src","../../../../assets/images/auth/ishowo.png","alt","",1,"img-fluid"],[1,"text-white","my-4"],[1,"text-white","font-weight-normal"],["role","form",1,"auth-side-form"],["userForm","ngForm"],[1,"auth-content"],["src","../../../../assets/images/auth/ishowo.png","alt","",1,"img-fluid","mb-4","d-block","d-xl-none","d-lg-none"],[1,"mb-4","f-w-400"],[1,"input-group","mb-3"],["type","text","name","login","id","login","placeholder","Login","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-4"],["type","password","name","pass","id","password","placeholder","Mot de passe","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-light",3,"click"],["class","fas fa-eye-slash",4,"ngIf"],["class","fas fa-eye",4,"ngIf"],[1,"btn","btn-block","btn-primary","mb-0",3,"disabled","click"],[1,"text-center"],["cardClass","text-center",1,"col-12",3,"hidHeader"],[1,"card-title"],[1,"btn","btn-block","btn-success","mb-0",3,"click"],[1,"btn","btn-block","btn-warning","mb-0",3,"click"],[1,"fas","fa-eye-slash"],[1,"fas","fa-eye"]],template:function(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275element"](4,"br"),d["\u0275\u0275element"](5,"br"),d["\u0275\u0275element"](6,"br"),d["\u0275\u0275element"](7,"br"),d["\u0275\u0275element"](8,"br"),d["\u0275\u0275element"](9,"br"),d["\u0275\u0275element"](10,"br"),d["\u0275\u0275element"](11,"br"),d["\u0275\u0275element"](12,"img",4),d["\u0275\u0275elementStart"](13,"h1",5),d["\u0275\u0275text"](14,"Bienvenue !"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"h4",6),d["\u0275\u0275text"](16,"Connectez-vous \xe0 votre compte"),d["\u0275\u0275element"](17,"br"),d["\u0275\u0275text"](18,"N'oubliez pas de contacter le support client en cas de besoin"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"form",7,8),d["\u0275\u0275elementStart"](21,"div",9),d["\u0275\u0275element"](22,"img",10),d["\u0275\u0275elementStart"](23,"h3",11),d["\u0275\u0275text"](24,"Connection"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"div",12),d["\u0275\u0275elementStart"](26,"input",13),d["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.login=e}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](27,"div",14),d["\u0275\u0275elementStart"](28,"input",15),d["\u0275\u0275listener"]("ngModelChange",function(e){return t.item.code=e}),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"button",16),d["\u0275\u0275listener"]("click",function(){return t.showHidePass()}),d["\u0275\u0275template"](30,f,1,0,"span",17),d["\u0275\u0275template"](31,v,1,0,"span",18),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](32,"button",19),d["\u0275\u0275listener"]("click",function(){return t.signin()}),d["\u0275\u0275text"](33,"Se connecter"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"div",20),d["\u0275\u0275elementStart"](35,"app-card",21),d["\u0275\u0275elementStart"](36,"p",22),d["\u0275\u0275elementStart"](37,"i"),d["\u0275\u0275text"](38,"Pour demander une licence"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](39,"button",23),d["\u0275\u0275listener"]("click",function(){return t.NewLicence()}),d["\u0275\u0275elementStart"](40,"i"),d["\u0275\u0275text"](41,"Cr\xe9er"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](42,"br"),d["\u0275\u0275element"](43,"br"),d["\u0275\u0275elementStart"](44,"p",22),d["\u0275\u0275elementStart"](45,"i"),d["\u0275\u0275text"](46,"Pour mettre \xe0 jour votre licence"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](47,"button",24),d["\u0275\u0275listener"]("click",function(){return t.CustomerCodeModal()}),d["\u0275\u0275elementStart"](48,"i"),d["\u0275\u0275text"](49,"Prolonger"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275reference"](20);d["\u0275\u0275advance"](26),d["\u0275\u0275property"]("ngModel",t.item.login),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",t.item.code),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",!t.showPass),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.showPass),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabled",!e.valid),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("hidHeader",!0)}},directives:[r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.NgForm,r.DefaultValueAccessor,r.RequiredValidator,r.NgControlStatus,r.NgModel,i.l,g.a],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.j.forChild(b)],o.j]}),e})();var w=n("+OY9"),y=n("ebz3");let C=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,S,r.FormsModule,w.a,y.a]]}),e})()}}]);